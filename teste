
> appatleta@0.1.0 dev
> next dev

   ▲ Next.js 16.0.7 (Turbopack)
   - Local:         http://localhost:3000
   - Network:       http://192.168.15.70:3000
   - Environments: .env.local

 ✓ Starting...
 ✓ Ready in 1810ms
 GET /app/arena/agendamentos/agenda 200 in 3.5s (compile: 3.2s, render: 318ms)
[GCS] Storage inicializado com sucesso
[GCS] Storage inicializado com sucesso
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 1024,
  rows: 2
}
 GET /api/quadra?pointId=2d77100f-aec8-45ca-b802-fcc964f539a9 200 in 2.2s (compile: 1053ms, proxy.ts: 73ms, render: 1079ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1156,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-04T00:00:00.000Z&dataFim=2026-01-08T23:59:59.999Z&apenasAtivos=true 200 in 2.3s (compile: 1050ms, proxy.ts: 73ms, render: 1211ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1437,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '          id, nome, endereco, telefone, email, descricao, "logoUrl", "cardTemplateUrl", latitude, longitude, ativo,\n' +
    '          "whatsappAccessToken", "whatsappPhoneNumberId", "whatsappBusinessAccountId", "whatsappApiVersion", "whatsappAtivo",\n' +
    '          "gzappyApiKey", "gzappyInstanceId", "gzappyAtivo",\n' +
    '          "enviarLembretesAgendamento", "antecedenciaLembrete",\n' +
    '          "infinitePayHandle",\n' +
    '          assinante, "createdAt", "updatedAt"\n' +
    '        FROM "Point"\n' +
    '        WHERE id = $1',
  duration: 611,
  rows: 1
}
 GET /api/point/2d77100f-aec8-45ca-b802-fcc964f539a9 200 in 2.7s (compile: 2.1s, proxy.ts: 73ms, render: 619ms)
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 669,
  rows: 2
}
 GET /api/quadra?pointId=2d77100f-aec8-45ca-b802-fcc964f539a9 200 in 685ms (compile: 3ms, proxy.ts: 5ms, render: 676ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 668,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-04T00:00:00.000Z&dataFim=2026-01-08T23:59:59.999Z&apenasAtivos=true 200 in 686ms (compile: 4ms, proxy.ts: 7ms, render: 675ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 543,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-04T00:00:00.000Z&dataFim=2026-01-08T23:59:59.999Z&status=CONFIRMADO 200 in 3.2s (compile: 1052ms, proxy.ts: 73ms, render: 2.0s)
Executed query {
  text: 'SELECT \n' +
    '          id, nome, endereco, telefone, email, descricao, "logoUrl", "cardTemplateUrl", latitude, longitude, ativo,\n' +
    '          "whatsappAccessToken", "whatsappPhoneNumberId", "whatsappBusinessAccountId", "whatsappApiVersion", "whatsappAtivo",\n' +
    '          "gzappyApiKey", "gzappyInstanceId", "gzappyAtivo",\n' +
    '          "enviarLembretesAgendamento", "antecedenciaLembrete",\n' +
    '          "infinitePayHandle",\n' +
    '          assinante, "createdAt", "updatedAt"\n' +
    '        FROM "Point"\n' +
    '        WHERE id = $1',
  duration: 496,
  rows: 1
}
 GET /api/point/2d77100f-aec8-45ca-b802-fcc964f539a9 200 in 544ms (compile: 37ms, proxy.ts: 6ms, render: 502ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 403,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 144,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-04T00:00:00.000Z&dataFim=2026-01-08T23:59:59.999Z&status=CONFIRMADO 200 in 566ms (compile: 5ms, proxy.ts: 7ms, render: 555ms)
[GCS] Storage inicializado com sucesso
 GET /service-worker.js 404 in 555ms (compile: 465ms, render: 91ms)
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 212,
  rows: 2
}
 GET /api/quadra 200 in 402ms (compile: 52ms, proxy.ts: 128ms, render: 222ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 340,
  rows: 51
}
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 253,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 816ms (compile: 394ms, proxy.ts: 161ms, render: 262ms)
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 274,
  rows: 11
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 137,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 1094ms (compile: 202ms, proxy.ts: 127ms, render: 765ms)
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."ehAula", a."professorId", a."createdAt", a."updatedAt", a."createdById", a."updatedById",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '          pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '          pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '          up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '          uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '          uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '        LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '        LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '        LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '        WHERE a.id = $1',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 135,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '          aa.id, aa."atletaId", aa."createdAt",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '          at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '        FROM "AgendamentoAtleta" aa\n' +
    '        LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '        LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '        WHERE aa."agendamentoId" = $1\n' +
    '        ORDER BY aa."createdAt" ASC',
  duration: 138,
  rows: 0
}
 GET /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 200 in 1822ms (compile: 1236ms, proxy.ts: 161ms, render: 425ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."quadraId" = $1 AND a."dataHora" >= $2 AND a."dataHora" <= $3 AND a.status = $4 AND q."pointId" = $5 ORDER BY a."dataHora" ASC',
  duration: 139,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 268,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00&dataFim=2026-01-05T23:59:59&apenasAtivos=true 200 in 300ms (compile: 15ms, proxy.ts: 11ms, render: 275ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 296,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 440ms (compile: 125ms, proxy.ts: 11ms, render: 304ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 409,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 3 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc&dataInicio=2026-01-05T00:00:00&dataFim=2026-01-05T23:59:59&status=CONFIRMADO 200 in 576ms (compile: 7ms, proxy.ts: 11ms, render: 557ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 196,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 211ms (compile: 3ms, proxy.ts: 6ms, render: 202ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 136,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 151ms (compile: 4ms, proxy.ts: 6ms, render: 141ms)
 GET /app/arena/agendamentos/agenda 200 in 82ms (compile: 7ms, render: 75ms)
[API PUT] ========== INÍCIO PUT /api/agendamento/[id] ==========
[API PUT] ID do agendamento: dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a
Executed query {
  text: 'SELECT "usuarioId", "quadraId", "recorrenciaId", "recorrenciaConfig", "ehAula", "professorId" FROM "Agendamento" WHERE id = $1',
  duration: 1018,
  rows: 1
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 140,
  rows: 1
}
[API PUT] Recebido payload: {
  "observacoes": "turma de segundas as 6h15 - cheilinha , grace, helen ..",
  "dataHora": "2026-01-05T06:15:00",
  "atletaId": "98cb2049-8740-443b-825f-f47d1ddc19ba",
  "nomeAvulso": null,
  "telefoneAvulso": null,
  "valorNegociado": "0.00",
  "valorHora": 66,
  "valorCalculado": 99,
  "recorrencia": null,
  "atletasParticipantesIds": [],
  "ehAula": false,
  "professorId": null,
  "aplicarARecorrencia": true
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '         WHERE "quadraId" = $1\n' +
    '         AND id != $2\n' +
    "         AND status = 'CONFIRMADO'\n" +
    '         AND "dataHora" < $4\n' +
    `         AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 142,
  rows: 0
}
Executed query {
  text: 'SELECT "dataHora", "recorrenciaId", "recorrenciaConfig", "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso", duracao, "valorHora", "valorCalculado", "valorNegociado", observacoes FROM "Agendamento" WHERE id = $1',
  duration: 140,
  rows: 1
}
[API] dataHoraAtualRecorrencia (após normalizarDataHora): 2026-01-05T09:15:00.000Z timestamp: 1767604500000
[API] Verificando condições: {
  temRecorrenciaAtual: true,
  aplicarARecorrencia: true,
  temRecorrencia: false,
  temTipo: undefined,
  recorrenciaIdAtual: 'b7af5460-223c-485c-8a31-da35cce823ea'
}
[API] Entrando no bloco: Aplicar alterações aos futuros (sem recriar recorrência)
[API] Observações: turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] DataHora: 2026-01-05T06:15:00
[API] Duração: undefined
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    '                 SET "dataHora" = $1, observacoes = $2, "atletaId" = $3, "nomeAvulso" = $4, "telefoneAvulso" = $5, "valorHora" = $6, "valorCalculado" = $7, "valorNegociado" = $8, "ehAula" = $9, "professorId" = $10, "recorrenciaConfig" = $11, "updatedAt" = NOW(), "updatedById" = $12\n' +
    '                 WHERE id = $13\n' +
    '                 RETURNING id',
  duration: 150,
  rows: 1
}
[API] Cálculo de diferença de tempo: {
  dataHoraAtual: '2026-01-05T09:15:00.000Z',
  dataHoraNova: '2026-01-05T06:15:00.000Z',
  diferencaMs: -10800000,
  diferencaHoras: -3,
  diferencaMinutos: -180
}
[API] Intervalo SQL calculado: -3 hours
[API] Atualizando agendamentos futuros. SQL: UPDATE "Agendamento" SET "dataHora" = "dataHora" + INTERVAL '-3 hours', observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6 WHERE "recorrenciaId" = $7 AND "dataHora" > $8 AND id != $9
[API] Parâmetros: 9 params
[API] Parâmetros completos: [
  "turma de segundas as 6h15 - cheilinha , grace, helen ..",
  66,
  99,
  false,
  null,
  "80417553-b03c-4a7d-8c3b-8b043ad5e1b9",
  "b7af5460-223c-485c-8a31-da35cce823ea",
  "2026-01-05T09:15:00.000Z",
  "dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a"
]
[API] Observações que serão aplicadas (valor bruto): turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] Observações que serão aplicadas (valor processado): turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] Índice de observacoes no array paramsFuturos: 0
[API] Valor de paramsFuturos[indiceObservacoes]: turma de segundas as 6h15 - cheilinha , grace, helen ..
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    `           SET "dataHora" = "dataHora" + INTERVAL '-3 hours', observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6\n` +
    '           WHERE "recorrenciaId" = $7\n' +
    '           AND "dataHora" > $8\n' +
    '           AND id != $9',
  duration: 174,
  rows: 51
}
[API] Agendamentos futuros atualizados: 51
Executed query {
  text: 'SELECT \n' +
    '            a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '            a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '            a.status, a.observacoes, a."recorrenciaId", a."recorrenciaConfig", a."createdAt", a."updatedAt",\n' +
    '            q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '            p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone"\n' +
    '          FROM "Agendamento" a\n' +
    '          LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '          LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '          LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '          LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '          WHERE a.id = $1',
  duration: 142,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3000
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 PUT /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 200 in 1951ms (compile: 17ms, proxy.ts: 6ms, render: 1928ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 285,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 421,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-04T00:00:00.000Z&dataFim=2026-01-08T23:59:59.999Z&apenasAtivos=true 200 in 444ms (compile: 9ms, proxy.ts: 8ms, render: 427ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 284,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-04T00:00:00.000Z&dataFim=2026-01-08T23:59:59.999Z&status=CONFIRMADO 200 in 588ms (compile: 4ms, proxy.ts: 9ms, render: 576ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1110,
  rows: 17
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1240,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&apenasAtivos=true 200 in 1269ms (compile: 14ms, proxy.ts: 10ms, render: 1245ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 275,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 17 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&status=CONFIRMADO 200 in 1409ms (compile: 7ms, proxy.ts: 10ms, render: 1393ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1137,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1272,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&apenasAtivos=true 200 in 1300ms (compile: 12ms, proxy.ts: 10ms, render: 1278ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 279,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&status=CONFIRMADO 200 in 1441ms (compile: 6ms, proxy.ts: 10ms, render: 1425ms)
 GET /service-worker.js 404 in 41ms (compile: 5ms, render: 36ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 286,
  rows: 17
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 421,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&apenasAtivos=true 200 in 443ms (compile: 10ms, proxy.ts: 7ms, render: 426ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 277,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 17 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&status=CONFIRMADO 200 in 584ms (compile: 5ms, proxy.ts: 8ms, render: 571ms)
 GET /service-worker.js 404 in 47ms (compile: 5ms, render: 41ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1241,
  rows: 17
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1373,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-19T00:00:00.000Z&dataFim=2026-01-23T23:59:59.999Z&apenasAtivos=true 200 in 1401ms (compile: 12ms, proxy.ts: 11ms, render: 1379ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 283,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 17 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-19T00:00:00.000Z&dataFim=2026-01-23T23:59:59.999Z&status=CONFIRMADO 200 in 1547ms (compile: 5ms, proxy.ts: 11ms, render: 1530ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1136,
  rows: 17
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1271,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-19T00:00:00.000Z&dataFim=2026-01-23T23:59:59.999Z&apenasAtivos=true 200 in 1302ms (compile: 11ms, proxy.ts: 15ms, render: 1275ms)
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 1405,
  rows: 2
}
 GET /api/quadra?pointId=2d77100f-aec8-45ca-b802-fcc964f539a9 200 in 1441ms (compile: 15ms, proxy.ts: 14ms, render: 1411ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 418,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 17 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-19T00:00:00.000Z&dataFim=2026-01-23T23:59:59.999Z&status=CONFIRMADO 200 in 1584ms (compile: 7ms, proxy.ts: 16ms, render: 1561ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1114,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1246,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&apenasAtivos=true 200 in 1272ms (compile: 10ms, proxy.ts: 10ms, render: 1252ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 277,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&status=CONFIRMADO 200 in 1414ms (compile: 6ms, proxy.ts: 12ms, render: 1396ms)
 GET /service-worker.js 404 in 44ms (compile: 6ms, render: 37ms)
 GET /app/arena/agendamentos 200 in 534ms (compile: 503ms, render: 32ms)
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 1137,
  rows: 2
}
 GET /api/quadra 200 in 1178ms (compile: 14ms, proxy.ts: 17ms, render: 1147ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND q."pointId" = $2 ORDER BY a."dataHora" ASC',
  duration: 2123,
  rows: 939
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 2257,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2025-12-29T00:00:00&apenasAtivos=true 200 in 2.3s (compile: 29ms, proxy.ts: 20ms, render: 2.3s)
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 1262,
  rows: 2
}
 GET /api/quadra 200 in 1275ms (compile: 3ms, proxy.ts: 6ms, render: 1266ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 560,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 939 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2025-12-29T00:00:00 200 in 2.7s (compile: 21ms, proxy.ts: 19ms, render: 2.7s)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 545,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2025-12-29T00:00:00&apenasAtivos=true 200 in 559ms (compile: 3ms, proxy.ts: 5ms, render: 551ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND q."pointId" = $2 ORDER BY a."dataHora" ASC',
  duration: 426,
  rows: 939
}
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 146,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 939 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2025-12-29T00:00:00 200 in 604ms (compile: 3ms, proxy.ts: 5ms, render: 595ms)
 GET /service-worker.js 404 in 72ms (compile: 8ms, render: 64ms)
 GET /app/arena/agendamentos/agenda 200 in 27ms (compile: 3ms, render: 24ms)
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 1023,
  rows: 2
}
 GET /api/quadra?pointId=2d77100f-aec8-45ca-b802-fcc964f539a9 200 in 1052ms (compile: 6ms, proxy.ts: 16ms, render: 1029ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1299,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1432,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-04T00:00:00.000Z&dataFim=2026-01-08T23:59:59.999Z&apenasAtivos=true 200 in 1469ms (compile: 16ms, proxy.ts: 15ms, render: 1437ms)
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 546,
  rows: 2
}
 GET /api/quadra?pointId=2d77100f-aec8-45ca-b802-fcc964f539a9 200 in 559ms (compile: 3ms, proxy.ts: 5ms, render: 551ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 417,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-04T00:00:00.000Z&dataFim=2026-01-08T23:59:59.999Z&status=CONFIRMADO 200 in 1752ms (compile: 11ms, proxy.ts: 16ms, render: 1724ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 406,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-04T00:00:00.000Z&dataFim=2026-01-08T23:59:59.999Z&apenasAtivos=true 200 in 419ms (compile: 4ms, proxy.ts: 5ms, render: 410ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 398,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 140,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-04T00:00:00.000Z&dataFim=2026-01-08T23:59:59.999Z&status=CONFIRMADO 200 in 554ms (compile: 3ms, proxy.ts: 5ms, render: 545ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 278,
  rows: 17
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 413,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&apenasAtivos=true 200 in 439ms (compile: 9ms, proxy.ts: 12ms, render: 417ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 279,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 17 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&status=CONFIRMADO 200 in 585ms (compile: 6ms, proxy.ts: 13ms, render: 565ms)
 GET /service-worker.js 404 in 71ms (compile: 7ms, render: 64ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1138,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1273,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&apenasAtivos=true 200 in 1298ms (compile: 11ms, proxy.ts: 9ms, render: 1278ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 285,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&status=CONFIRMADO 200 in 1444ms (compile: 5ms, proxy.ts: 8ms, render: 1430ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 283,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 426,
  rows: 2
}
 GET /api/quadra 200 in 461ms (compile: 12ms, proxy.ts: 17ms, render: 432ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 547,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 601ms (compile: 30ms, proxy.ts: 16ms, render: 555ms)
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."ehAula", a."professorId", a."createdAt", a."updatedAt", a."createdById", a."updatedById",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '          pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '          pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '          up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '          uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '          uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '        LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '        LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '        LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '        WHERE a.id = $1',
  duration: 599,
  rows: 1
}
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 612,
  rows: 11
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 281,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 281,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 1213ms (compile: 10ms, proxy.ts: 16ms, render: 1187ms)
Executed query {
  text: 'SELECT \n' +
    '          aa.id, aa."atletaId", aa."createdAt",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '          at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '        FROM "AgendamentoAtleta" aa\n' +
    '        LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '        LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '        WHERE aa."agendamentoId" = $1\n' +
    '        ORDER BY aa."createdAt" ASC',
  duration: 283,
  rows: 0
}
 GET /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 200 in 1351ms (compile: 156ms, proxy.ts: 17ms, render: 1179ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."quadraId" = $1 AND a."dataHora" >= $2 AND a."dataHora" <= $3 AND a.status = $4 AND q."pointId" = $5 ORDER BY a."dataHora" ASC',
  duration: 144,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 279,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00&dataFim=2026-01-05T23:59:59&apenasAtivos=true 200 in 304ms (compile: 10ms, proxy.ts: 11ms, render: 283ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 414,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 444ms (compile: 13ms, proxy.ts: 11ms, render: 420ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 420,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 3 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc&dataInicio=2026-01-05T00:00:00&dataFim=2026-01-05T23:59:59&status=CONFIRMADO 200 in 586ms (compile: 6ms, proxy.ts: 11ms, render: 569ms)
Executed query {
  text: 'SELECT "usuarioId", "quadraId", "recorrenciaId", "dataHora" FROM "Agendamento" WHERE id = $1',
  duration: 964,
  rows: 1
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 135,
  rows: 1
}
Executed query {
  text: 'DELETE FROM "Agendamento"\n' +
    '           WHERE "recorrenciaId" = $1\n' +
    '           AND "dataHora" >= $2',
  duration: 154,
  rows: 51
}
[CORS DEBUG] Origin recebida: http://localhost:3000
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 DELETE /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 200 in 1280ms (compile: 12ms, proxy.ts: 5ms, render: 1263ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 134,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&apenasAtivos=true 200 in 154ms (compile: 5ms, proxy.ts: 9ms, render: 140ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 405,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 135,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&status=CONFIRMADO 200 in 563ms (compile: 9ms, proxy.ts: 7ms, render: 547ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 1194,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 1334,
  rows: 2
}
 GET /api/quadra 200 in 1365ms (compile: 14ms, proxy.ts: 13ms, render: 1339ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 1464,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 1508ms (compile: 26ms, proxy.ts: 13ms, render: 1469ms)
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 435,
  rows: 11
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 146,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 1803ms (compile: 9ms, proxy.ts: 11ms, render: 1783ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 290,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 427,
  rows: 2
}
 GET /api/quadra 200 in 461ms (compile: 13ms, proxy.ts: 14ms, render: 434ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 558,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 604ms (compile: 26ms, proxy.ts: 14ms, render: 563ms)
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."ehAula", a."professorId", a."createdAt", a."updatedAt", a."createdById", a."updatedById",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '          pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '          pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '          up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '          uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '          uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '        LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '        LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '        LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '        WHERE a.id = $1',
  duration: 701,
  rows: 1
}
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 592,
  rows: 11
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 293,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 292,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 1203ms (compile: 9ms, proxy.ts: 14ms, render: 1180ms)
Executed query {
  text: 'SELECT \n' +
    '          aa.id, aa."atletaId", aa."createdAt",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '          at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '        FROM "AgendamentoAtleta" aa\n' +
    '        LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '        LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '        WHERE aa."agendamentoId" = $1\n' +
    '        ORDER BY aa."createdAt" ASC',
  duration: 292,
  rows: 0
}
 GET /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 200 in 1345ms (compile: 39ms, proxy.ts: 14ms, render: 1292ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."quadraId" = $1 AND a."dataHora" >= $2 AND a."dataHora" <= $3 AND a.status = $4 AND q."pointId" = $5 ORDER BY a."dataHora" ASC',
  duration: 151,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 303,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00&dataFim=2026-01-05T23:59:59&apenasAtivos=true 200 in 333ms (compile: 14ms, proxy.ts: 11ms, render: 308ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 443,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 476ms (compile: 17ms, proxy.ts: 11ms, render: 448ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 445,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 3 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc&dataInicio=2026-01-05T00:00:00&dataFim=2026-01-05T23:59:59&status=CONFIRMADO 200 in 623ms (compile: 9ms, proxy.ts: 11ms, render: 603ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 147,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 163ms (compile: 4ms, proxy.ts: 5ms, render: 154ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 147,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 158ms (compile: 2ms, proxy.ts: 4ms, render: 152ms)
 GET /service-worker.js 404 in 46ms (compile: 6ms, render: 40ms)
[API PUT] ========== INÍCIO PUT /api/agendamento/[id] ==========
[API PUT] ID do agendamento: dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a
Executed query {
  text: 'SELECT "usuarioId", "quadraId", "recorrenciaId", "recorrenciaConfig", "ehAula", "professorId" FROM "Agendamento" WHERE id = $1',
  duration: 995,
  rows: 1
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 148,
  rows: 1
}
[API PUT] Recebido payload: {
  "observacoes": "turma de segundas as 6h15 - cheilinha , grace, helen ..",
  "dataHora": "2026-01-05T06:15:00",
  "atletaId": "98cb2049-8740-443b-825f-f47d1ddc19ba",
  "nomeAvulso": null,
  "telefoneAvulso": null,
  "valorNegociado": "0.00",
  "valorHora": 66,
  "valorCalculado": 99,
  "recorrencia": {
    "tipo": "SEMANAL",
    "intervalo": 1,
    "diasSemana": [
      1
    ],
    "dataFim": "2026-12-31T23:59:59"
  },
  "atletasParticipantesIds": [],
  "ehAula": false,
  "professorId": null,
  "aplicarARecorrencia": true
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '         WHERE "quadraId" = $1\n' +
    '         AND id != $2\n' +
    "         AND status = 'CONFIRMADO'\n" +
    '         AND "dataHora" < $4\n' +
    `         AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT "dataHora", "recorrenciaId", "recorrenciaConfig", "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso", duracao, "valorHora", "valorCalculado", "valorNegociado", observacoes FROM "Agendamento" WHERE id = $1',
  duration: 139,
  rows: 1
}
[API] dataHoraAtualRecorrencia (após normalizarDataHora): 2026-01-05T09:15:00.000Z timestamp: 1767604500000
[API] Verificando condições: {
  temRecorrenciaAtual: true,
  aplicarARecorrencia: true,
  temRecorrencia: true,
  temTipo: 'SEMANAL',
  recorrenciaIdAtual: 'b7af5460-223c-485c-8a31-da35cce823ea'
}
[API] Entrando no bloco: Recriar recorrência
Executed query {
  text: 'DELETE FROM "Agendamento"\n' +
    '           WHERE "recorrenciaId" = $1\n' +
    '           AND "dataHora" > $2\n' +
    '           AND id != $3',
  duration: 139,
  rows: 0
}
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    '                 SET "dataHora" = $1, observacoes = $2, "atletaId" = $3, "nomeAvulso" = $4, "telefoneAvulso" = $5, "valorHora" = $6, "valorCalculado" = $7, "valorNegociado" = $8, "ehAula" = $9, "professorId" = $10, "recorrenciaConfig" = $11, "updatedAt" = NOW(), "updatedById" = $12\n' +
    '                 WHERE id = $13\n' +
    '                 RETURNING id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '                   "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '                   status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 143,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 140,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 140,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 142,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 140,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 142,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 143,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 140,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 140,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 140,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 142,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 144,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 142,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 143,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 142,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 140,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 147,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 140,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 140,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 140,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 149,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 145,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 149,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 143,
  rows: 0
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '           WHERE "quadraId" = $1\n' +
    "           AND status = 'CONFIRMADO'\n" +
    '           AND id != $2\n' +
    '           AND "dataHora" < $4\n' +
    `           AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 238,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 150,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "Agendamento" (\n' +
    '              id, "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso",\n' +
    '              "dataHora", duracao, "valorHora", "valorCalculado", "valorNegociado",\n' +
    '              status, observacoes, "recorrenciaId", "recorrenciaConfig", "createdAt", "updatedAt"\n' +
    '            )\n' +
    '            VALUES (\n' +
    "              gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, 'CONFIRMADO', $11, $12, $13, NOW(), NOW()\n" +
    '            )\n' +
    '            RETURNING id',
  duration: 141,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."recorrenciaId", a."recorrenciaConfig", a."createdAt", a."updatedAt",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        WHERE a.id = $1',
  duration: 141,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3000
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 PUT /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 200 in 16.5s (compile: 14ms, proxy.ts: 5ms, render: 16.4s)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 140,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&apenasAtivos=true 200 in 158ms (compile: 5ms, proxy.ts: 8ms, render: 145ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 422,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 142,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&status=CONFIRMADO 200 in 587ms (compile: 9ms, proxy.ts: 8ms, render: 571ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 282,
  rows: 18
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 419,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&apenasAtivos=true 200 in 445ms (compile: 10ms, proxy.ts: 11ms, render: 424ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 282,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 18 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&status=CONFIRMADO 200 in 590ms (compile: 6ms, proxy.ts: 11ms, render: 572ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 279,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 414,
  rows: 2
}
 GET /api/quadra 200 in 447ms (compile: 13ms, proxy.ts: 16ms, render: 418ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 537,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 586ms (compile: 28ms, proxy.ts: 16ms, render: 542ms)
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."ehAula", a."professorId", a."createdAt", a."updatedAt", a."createdById", a."updatedById",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '          pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '          pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '          up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '          uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '          uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '        LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '        LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '        LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '        WHERE a.id = $1',
  duration: 673,
  rows: 1
}
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 573,
  rows: 11
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 282,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 279,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 1166ms (compile: 10ms, proxy.ts: 17ms, render: 1139ms)
Executed query {
  text: 'SELECT \n' +
    '          aa.id, aa."atletaId", aa."createdAt",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '          at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '        FROM "AgendamentoAtleta" aa\n' +
    '        LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '        LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '        WHERE aa."agendamentoId" = $1\n' +
    '        ORDER BY aa."createdAt" ASC',
  duration: 280,
  rows: 0
}
 GET /api/agendamento/ae5d0245-ff6c-45ac-a65f-43d1287b9c64 200 in 1304ms (compile: 45ms, proxy.ts: 17ms, render: 1242ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."quadraId" = $1 AND a."dataHora" >= $2 AND a."dataHora" <= $3 AND a.status = $4 AND q."pointId" = $5 ORDER BY a."dataHora" ASC',
  duration: 144,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 280,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00&dataFim=2026-01-12T23:59:59&apenasAtivos=true 200 in 304ms (compile: 10ms, proxy.ts: 9ms, render: 284ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 445,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 472ms (compile: 14ms, proxy.ts: 9ms, render: 449ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 448,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 3 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc&dataInicio=2026-01-12T00:00:00&dataFim=2026-01-12T23:59:59&status=CONFIRMADO 200 in 614ms (compile: 6ms, proxy.ts: 9ms, render: 598ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 141,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 154ms (compile: 3ms, proxy.ts: 5ms, render: 146ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 138,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 152ms (compile: 3ms, proxy.ts: 5ms, render: 144ms)
[API PUT] ========== INÍCIO PUT /api/agendamento/[id] ==========
[API PUT] ID do agendamento: ae5d0245-ff6c-45ac-a65f-43d1287b9c64
Executed query {
  text: 'SELECT "usuarioId", "quadraId", "recorrenciaId", "recorrenciaConfig", "ehAula", "professorId" FROM "Agendamento" WHERE id = $1',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 141,
  rows: 1
}
[API PUT] Recebido payload: {
  "observacoes": "turma de segundas as 6h15 - cheilinha , grace, helen ..",
  "dataHora": "2026-01-12T06:15:00",
  "atletaId": "98cb2049-8740-443b-825f-f47d1ddc19ba",
  "nomeAvulso": null,
  "telefoneAvulso": null,
  "valorNegociado": "0.00",
  "valorHora": 66,
  "valorCalculado": 99,
  "recorrencia": null,
  "atletasParticipantesIds": [],
  "ehAula": false,
  "professorId": null,
  "aplicarARecorrencia": true
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '         WHERE "quadraId" = $1\n' +
    '         AND id != $2\n' +
    "         AND status = 'CONFIRMADO'\n" +
    '         AND "dataHora" < $4\n' +
    `         AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 138,
  rows: 0
}
Executed query {
  text: 'SELECT "dataHora", "recorrenciaId", "recorrenciaConfig", "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso", duracao, "valorHora", "valorCalculado", "valorNegociado", observacoes FROM "Agendamento" WHERE id = $1',
  duration: 138,
  rows: 1
}
[API] dataHoraAtualRecorrencia (após normalizarDataHora): 2026-01-12T09:15:00.000Z timestamp: 1768209300000
[API] Verificando condições: {
  temRecorrenciaAtual: true,
  aplicarARecorrencia: true,
  temRecorrencia: false,
  temTipo: undefined,
  recorrenciaIdAtual: 'b7af5460-223c-485c-8a31-da35cce823ea'
}
[API] Entrando no bloco: Aplicar alterações aos futuros (sem recriar recorrência)
[API] Observações: turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] DataHora: 2026-01-12T06:15:00
[API] Duração: undefined
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    '                 SET "dataHora" = $1, observacoes = $2, "atletaId" = $3, "nomeAvulso" = $4, "telefoneAvulso" = $5, "valorHora" = $6, "valorCalculado" = $7, "valorNegociado" = $8, "ehAula" = $9, "professorId" = $10, "updatedAt" = NOW(), "updatedById" = $11\n' +
    '                 WHERE id = $12\n' +
    '                 RETURNING id',
  duration: 141,
  rows: 1
}
[API] Cálculo de diferença de tempo: {
  dataHoraAtual: '2026-01-12T09:15:00.000Z',
  dataHoraNova: '2026-01-12T06:15:00.000Z',
  diferencaMs: -10800000,
  diferencaHoras: -3,
  diferencaMinutos: -180,
  diferencaMinutosAbs: 180
}
[API] Intervalo SQL calculado: -3 hours
[API] Atualizando agendamentos futuros. SQL: UPDATE "Agendamento" SET "dataHora" = "dataHora" + INTERVAL '-3 hours', observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6 WHERE "recorrenciaId" = $7 AND "dataHora" > $8 AND id != $9
[API] Parâmetros: 9 params
[API] Parâmetros completos: [
  "turma de segundas as 6h15 - cheilinha , grace, helen ..",
  66,
  99,
  false,
  null,
  "80417553-b03c-4a7d-8c3b-8b043ad5e1b9",
  "b7af5460-223c-485c-8a31-da35cce823ea",
  "2026-01-12T09:15:00.000Z",
  "ae5d0245-ff6c-45ac-a65f-43d1287b9c64"
]
[API] Observações que serão aplicadas (valor bruto): turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] Observações que serão aplicadas (valor processado): turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] Índice de observacoes no array paramsFuturos: 0
[API] Valor de paramsFuturos[indiceObservacoes]: turma de segundas as 6h15 - cheilinha , grace, helen ..
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    `           SET "dataHora" = "dataHora" + INTERVAL '-3 hours', observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6\n` +
    '           WHERE "recorrenciaId" = $7\n' +
    '           AND "dataHora" > $8\n' +
    '           AND id != $9',
  duration: 144,
  rows: 50
}
[API] Agendamentos futuros atualizados: 50
Executed query {
  text: 'SELECT \n' +
    '            a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '            a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '            a.status, a.observacoes, a."recorrenciaId", a."recorrenciaConfig", a."createdAt", a."updatedAt",\n' +
    '            q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '            p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone"\n' +
    '          FROM "Agendamento" a\n' +
    '          LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '          LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '          LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '          LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '          WHERE a.id = $1',
  duration: 142,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3000
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 PUT /api/agendamento/ae5d0245-ff6c-45ac-a65f-43d1287b9c64 200 in 1020ms (compile: 13ms, proxy.ts: 4ms, render: 1004ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 140,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&apenasAtivos=true 200 in 159ms (compile: 5ms, proxy.ts: 8ms, render: 146ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 416,
  rows: 18
}
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 142,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 18 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&status=CONFIRMADO 200 in 583ms (compile: 11ms, proxy.ts: 8ms, render: 565ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 280,
  rows: 18
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 415,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-19T00:00:00.000Z&dataFim=2026-01-23T23:59:59.999Z&apenasAtivos=true 200 in 437ms (compile: 8ms, proxy.ts: 9ms, render: 420ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 280,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 18 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-19T00:00:00.000Z&dataFim=2026-01-23T23:59:59.999Z&status=CONFIRMADO 200 in 582ms (compile: 5ms, proxy.ts: 9ms, render: 568ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 1167,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 1302,
  rows: 2
}
 GET /api/quadra 200 in 1335ms (compile: 14ms, proxy.ts: 14ms, render: 1307ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 1432,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 1479ms (compile: 26ms, proxy.ts: 15ms, render: 1438ms)
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."ehAula", a."professorId", a."createdAt", a."updatedAt", a."createdById", a."updatedById",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '          pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '          pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '          up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '          uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '          uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '        LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '        LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '        LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '        WHERE a.id = $1',
  duration: 1567,
  rows: 1
}
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 580,
  rows: 11
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 289,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 287,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 2.1s (compile: 11ms, proxy.ts: 16ms, render: 2.0s)
Executed query {
  text: 'SELECT \n' +
    '          aa.id, aa."atletaId", aa."createdAt",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '          at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '        FROM "AgendamentoAtleta" aa\n' +
    '        LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '        LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '        WHERE aa."agendamentoId" = $1\n' +
    '        ORDER BY aa."createdAt" ASC',
  duration: 286,
  rows: 0
}
 GET /api/agendamento/9ee2dbc8-a6cd-4fcf-9fbe-d52e825e998e 200 in 2.2s (compile: 44ms, proxy.ts: 16ms, render: 2.1s)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."quadraId" = $1 AND a."dataHora" >= $2 AND a."dataHora" <= $3 AND a.status = $4 AND q."pointId" = $5 ORDER BY a."dataHora" ASC',
  duration: 149,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 291,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-19T00:00:00&dataFim=2026-01-19T23:59:59&apenasAtivos=true 200 in 316ms (compile: 9ms, proxy.ts: 11ms, render: 295ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 431,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 461ms (compile: 12ms, proxy.ts: 11ms, render: 438ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 437,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 3 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc&dataInicio=2026-01-19T00:00:00&dataFim=2026-01-19T23:59:59&status=CONFIRMADO 200 in 608ms (compile: 6ms, proxy.ts: 11ms, render: 591ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1150,
  rows: 18
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1285,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&apenasAtivos=true 200 in 1309ms (compile: 11ms, proxy.ts: 8ms, render: 1290ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 280,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 18 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&status=CONFIRMADO 200 in 1451ms (compile: 6ms, proxy.ts: 8ms, render: 1437ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 283,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 420,
  rows: 2
}
 GET /api/quadra 200 in 450ms (compile: 12ms, proxy.ts: 13ms, render: 425ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 547,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 590ms (compile: 25ms, proxy.ts: 14ms, render: 552ms)
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."ehAula", a."professorId", a."createdAt", a."updatedAt", a."createdById", a."updatedById",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '          pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '          pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '          up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '          uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '          uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '        LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '        LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '        LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '        WHERE a.id = $1',
  duration: 677,
  rows: 1
}
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 569,
  rows: 11
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 283,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 279,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 1161ms (compile: 8ms, proxy.ts: 15ms, render: 1138ms)
Executed query {
  text: 'SELECT \n' +
    '          aa.id, aa."atletaId", aa."createdAt",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '          at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '        FROM "AgendamentoAtleta" aa\n' +
    '        LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '        LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '        WHERE aa."agendamentoId" = $1\n' +
    '        ORDER BY aa."createdAt" ASC',
  duration: 279,
  rows: 0
}
 GET /api/agendamento/ae5d0245-ff6c-45ac-a65f-43d1287b9c64 200 in 1299ms (compile: 39ms, proxy.ts: 14ms, render: 1246ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."quadraId" = $1 AND a."dataHora" >= $2 AND a."dataHora" <= $3 AND a.status = $4 AND q."pointId" = $5 ORDER BY a."dataHora" ASC',
  duration: 147,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 282,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00&dataFim=2026-01-12T23:59:59&apenasAtivos=true 200 in 306ms (compile: 9ms, proxy.ts: 10ms, render: 287ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 418,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 446ms (compile: 13ms, proxy.ts: 10ms, render: 423ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 426,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 3 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc&dataInicio=2026-01-12T00:00:00&dataFim=2026-01-12T23:59:59&status=CONFIRMADO 200 in 596ms (compile: 5ms, proxy.ts: 10ms, render: 580ms)
[API PUT] ========== INÍCIO PUT /api/agendamento/[id] ==========
[API PUT] ID do agendamento: ae5d0245-ff6c-45ac-a65f-43d1287b9c64
Executed query {
  text: 'SELECT "usuarioId", "quadraId", "recorrenciaId", "recorrenciaConfig", "ehAula", "professorId" FROM "Agendamento" WHERE id = $1',
  duration: 969,
  rows: 1
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 134,
  rows: 1
}
[API PUT] Recebido payload: {
  "observacoes": "turma de segundas as 6h15 - cheilinha , grace, helen, rovene ",
  "atletaId": "98cb2049-8740-443b-825f-f47d1ddc19ba",
  "nomeAvulso": null,
  "telefoneAvulso": null,
  "valorNegociado": "0.00",
  "valorHora": 66,
  "valorCalculado": 99,
  "recorrencia": null,
  "atletasParticipantesIds": [],
  "ehAula": false,
  "professorId": null,
  "aplicarARecorrencia": true
}
Executed query {
  text: 'SELECT "dataHora", "recorrenciaId", "recorrenciaConfig", "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso", duracao, "valorHora", "valorCalculado", "valorNegociado", observacoes FROM "Agendamento" WHERE id = $1',
  duration: 136,
  rows: 1
}
[API] dataHoraAtualRecorrencia (após normalizarDataHora): 2026-01-12T09:15:00.000Z timestamp: 1768209300000
[API] Verificando condições: {
  temRecorrenciaAtual: true,
  aplicarARecorrencia: true,
  temRecorrencia: false,
  temTipo: undefined,
  recorrenciaIdAtual: 'b7af5460-223c-485c-8a31-da35cce823ea'
}
[API] Entrando no bloco: Aplicar alterações aos futuros (sem recriar recorrência)
[API] Observações: turma de segundas as 6h15 - cheilinha , grace, helen, rovene 
[API] DataHora: undefined
[API] Duração: undefined
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    '                 SET observacoes = $1, "atletaId" = $2, "nomeAvulso" = $3, "telefoneAvulso" = $4, "valorHora" = $5, "valorCalculado" = $6, "valorNegociado" = $7, "ehAula" = $8, "professorId" = $9, "updatedAt" = NOW(), "updatedById" = $10\n' +
    '                 WHERE id = $11\n' +
    '                 RETURNING id',
  duration: 139,
  rows: 1
}
[API] Atualizando agendamentos futuros. SQL: UPDATE "Agendamento" SET observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6 WHERE "recorrenciaId" = $7 AND "dataHora" > $8 AND id != $9
[API] Parâmetros: 9 params
[API] Parâmetros completos: [
  "turma de segundas as 6h15 - cheilinha , grace, helen, rovene ",
  66,
  99,
  false,
  null,
  "80417553-b03c-4a7d-8c3b-8b043ad5e1b9",
  "b7af5460-223c-485c-8a31-da35cce823ea",
  "2026-01-12T09:15:00.000Z",
  "ae5d0245-ff6c-45ac-a65f-43d1287b9c64"
]
[API] Observações que serão aplicadas (valor bruto): turma de segundas as 6h15 - cheilinha , grace, helen, rovene 
[API] Observações que serão aplicadas (valor processado): turma de segundas as 6h15 - cheilinha , grace, helen, rovene 
[API] Índice de observacoes no array paramsFuturos: 0
[API] Valor de paramsFuturos[indiceObservacoes]: turma de segundas as 6h15 - cheilinha , grace, helen, rovene 
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    '           SET observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6\n' +
    '           WHERE "recorrenciaId" = $7\n' +
    '           AND "dataHora" > $8\n' +
    '           AND id != $9',
  duration: 141,
  rows: 50
}
[API] Agendamentos futuros atualizados: 50
Executed query {
  text: 'SELECT \n' +
    '            a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '            a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '            a.status, a.observacoes, a."recorrenciaId", a."recorrenciaConfig", a."createdAt", a."updatedAt",\n' +
    '            q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '            p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone"\n' +
    '          FROM "Agendamento" a\n' +
    '          LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '          LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '          LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '          LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '          WHERE a.id = $1',
  duration: 136,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3000
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 PUT /api/agendamento/ae5d0245-ff6c-45ac-a65f-43d1287b9c64 200 in 1693ms (compile: 13ms, proxy.ts: 6ms, render: 1673ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 143,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&apenasAtivos=true 200 in 161ms (compile: 4ms, proxy.ts: 8ms, render: 150ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 416,
  rows: 18
}
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 135,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 18 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&status=CONFIRMADO 200 in 574ms (compile: 9ms, proxy.ts: 7ms, render: 558ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 423,
  rows: 18
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 556,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-19T00:00:00.000Z&dataFim=2026-01-23T23:59:59.999Z&apenasAtivos=true 200 in 591ms (compile: 17ms, proxy.ts: 12ms, render: 561ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 275,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 18 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-19T00:00:00.000Z&dataFim=2026-01-23T23:59:59.999Z&status=CONFIRMADO 200 in 732ms (compile: 12ms, proxy.ts: 12ms, render: 708ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1145,
  rows: 18
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1277,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-26T00:00:00.000Z&dataFim=2026-01-30T23:59:59.999Z&apenasAtivos=true 200 in 1299ms (compile: 9ms, proxy.ts: 8ms, render: 1282ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 278,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 18 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-26T00:00:00.000Z&dataFim=2026-01-30T23:59:59.999Z&status=CONFIRMADO 200 in 1443ms (compile: 4ms, proxy.ts: 9ms, render: 1430ms)
 GET /service-worker.js 404 in 44ms (compile: 5ms, render: 40ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 1168,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 1300,
  rows: 2
}
 GET /api/quadra 200 in 1335ms (compile: 12ms, proxy.ts: 16ms, render: 1307ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 1418,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 1474ms (compile: 33ms, proxy.ts: 16ms, render: 1425ms)
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."ehAula", a."professorId", a."createdAt", a."updatedAt", a."createdById", a."updatedById",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '          pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '          pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '          up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '          uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '          uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '        LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '        LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '        LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '        WHERE a.id = $1',
  duration: 1429,
  rows: 1
}
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 563,
  rows: 11
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 280,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 278,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 2.0s (compile: 7ms, proxy.ts: 16ms, render: 2.0s)
Executed query {
  text: 'SELECT \n' +
    '          aa.id, aa."atletaId", aa."createdAt",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '          at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '        FROM "AgendamentoAtleta" aa\n' +
    '        LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '        LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '        WHERE aa."agendamentoId" = $1\n' +
    '        ORDER BY aa."createdAt" ASC',
  duration: 280,
  rows: 0
}
 GET /api/agendamento/23550a5d-400e-4abe-8632-53b5e18aacda 200 in 2.2s (compile: 161ms, proxy.ts: 17ms, render: 2.0s)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."quadraId" = $1 AND a."dataHora" >= $2 AND a."dataHora" <= $3 AND a.status = $4 AND q."pointId" = $5 ORDER BY a."dataHora" ASC',
  duration: 143,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 279,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-26T00:00:00&dataFim=2026-01-26T23:59:59&apenasAtivos=true 200 in 308ms (compile: 11ms, proxy.ts: 13ms, render: 285ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 414,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 446ms (compile: 15ms, proxy.ts: 12ms, render: 419ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 421,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 3 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc&dataInicio=2026-01-26T00:00:00&dataFim=2026-01-26T23:59:59&status=CONFIRMADO 200 in 590ms (compile: 7ms, proxy.ts: 13ms, render: 570ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 282,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 418,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&apenasAtivos=true 200 in 440ms (compile: 9ms, proxy.ts: 9ms, render: 422ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 279,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&status=CONFIRMADO 200 in 582ms (compile: 5ms, proxy.ts: 9ms, render: 568ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 280,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 415,
  rows: 2
}
 GET /api/quadra 200 in 449ms (compile: 11ms, proxy.ts: 18ms, render: 419ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 540,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 589ms (compile: 26ms, proxy.ts: 18ms, render: 545ms)
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."ehAula", a."professorId", a."createdAt", a."updatedAt", a."createdById", a."updatedById",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '          pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '          pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '          up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '          uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '          uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '        LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '        LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '        LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '        WHERE a.id = $1',
  duration: 666,
  rows: 1
}
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 562,
  rows: 11
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 281,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 279,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 1156ms (compile: 9ms, proxy.ts: 18ms, render: 1129ms)
Executed query {
  text: 'SELECT \n' +
    '          aa.id, aa."atletaId", aa."createdAt",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '          at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '        FROM "AgendamentoAtleta" aa\n' +
    '        LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '        LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '        WHERE aa."agendamentoId" = $1\n' +
    '        ORDER BY aa."createdAt" ASC',
  duration: 281,
  rows: 0
}
 GET /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 200 in 1295ms (compile: 42ms, proxy.ts: 19ms, render: 1234ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."quadraId" = $1 AND a."dataHora" >= $2 AND a."dataHora" <= $3 AND a.status = $4 AND q."pointId" = $5 ORDER BY a."dataHora" ASC',
  duration: 144,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 279,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00&dataFim=2026-01-05T23:59:59&apenasAtivos=true 200 in 303ms (compile: 10ms, proxy.ts: 9ms, render: 283ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 417,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 444ms (compile: 14ms, proxy.ts: 9ms, render: 421ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 421,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 3 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc&dataInicio=2026-01-05T00:00:00&dataFim=2026-01-05T23:59:59&status=CONFIRMADO 200 in 586ms (compile: 7ms, proxy.ts: 9ms, render: 570ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 144,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 157ms (compile: 2ms, proxy.ts: 5ms, render: 149ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 141,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 153ms (compile: 3ms, proxy.ts: 4ms, render: 146ms)
[API PUT] ========== INÍCIO PUT /api/agendamento/[id] ==========
[API PUT] ID do agendamento: dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a
Executed query {
  text: 'SELECT "usuarioId", "quadraId", "recorrenciaId", "recorrenciaConfig", "ehAula", "professorId" FROM "Agendamento" WHERE id = $1',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 140,
  rows: 1
}
[API PUT] Recebido payload: {
  "observacoes": "turma de segundas as 6h15 - cheilinha , grace, helen ..",
  "dataHora": "2026-01-05T06:15:00",
  "atletaId": "98cb2049-8740-443b-825f-f47d1ddc19ba",
  "nomeAvulso": null,
  "telefoneAvulso": null,
  "valorNegociado": "0.00",
  "valorHora": 66,
  "valorCalculado": 99,
  "recorrencia": null,
  "atletasParticipantesIds": [],
  "ehAula": false,
  "professorId": null,
  "aplicarARecorrencia": true
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '         WHERE "quadraId" = $1\n' +
    '         AND id != $2\n' +
    "         AND status = 'CONFIRMADO'\n" +
    '         AND "dataHora" < $4\n' +
    `         AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 141,
  rows: 0
}
Executed query {
  text: 'SELECT "dataHora", "recorrenciaId", "recorrenciaConfig", "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso", duracao, "valorHora", "valorCalculado", "valorNegociado", observacoes FROM "Agendamento" WHERE id = $1',
  duration: 141,
  rows: 1
}
[API] dataHoraAtualRecorrencia (após normalizarDataHora): 2026-01-05T09:15:00.000Z timestamp: 1767604500000
[API] Verificando condições: {
  temRecorrenciaAtual: true,
  aplicarARecorrencia: true,
  temRecorrencia: false,
  temTipo: undefined,
  recorrenciaIdAtual: 'b7af5460-223c-485c-8a31-da35cce823ea'
}
[API] Entrando no bloco: Aplicar alterações aos futuros (sem recriar recorrência)
[API] Observações: turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] DataHora: 2026-01-05T06:15:00
[API] Duração: undefined
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    '                 SET "dataHora" = $1, observacoes = $2, "atletaId" = $3, "nomeAvulso" = $4, "telefoneAvulso" = $5, "valorHora" = $6, "valorCalculado" = $7, "valorNegociado" = $8, "ehAula" = $9, "professorId" = $10, "updatedAt" = NOW(), "updatedById" = $11\n' +
    '                 WHERE id = $12\n' +
    '                 RETURNING id',
  duration: 143,
  rows: 1
}
[API] Cálculo de diferença de tempo: {
  dataHoraAtual: '2026-01-05T09:15:00.000Z',
  dataHoraNova: '2026-01-05T06:15:00.000Z',
  diferencaMs: -10800000,
  diferencaHoras: -3,
  diferencaMinutos: -180,
  diferencaMinutosAbs: 180
}
[API] Intervalo SQL calculado: -3 hours
[API] Atualizando agendamentos futuros. SQL: UPDATE "Agendamento" SET "dataHora" = "dataHora" + INTERVAL '-3 hours', observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6 WHERE "recorrenciaId" = $7 AND "dataHora" > $8 AND id != $9
[API] Parâmetros: 9 params
[API] Parâmetros completos: [
  "turma de segundas as 6h15 - cheilinha , grace, helen ..",
  66,
  99,
  false,
  null,
  "80417553-b03c-4a7d-8c3b-8b043ad5e1b9",
  "b7af5460-223c-485c-8a31-da35cce823ea",
  "2026-01-05T09:15:00.000Z",
  "dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a"
]
[API] Observações que serão aplicadas (valor bruto): turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] Observações que serão aplicadas (valor processado): turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] Índice de observacoes no array paramsFuturos: 0
[API] Valor de paramsFuturos[indiceObservacoes]: turma de segundas as 6h15 - cheilinha , grace, helen ..
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    `           SET "dataHora" = "dataHora" + INTERVAL '-3 hours', observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6\n` +
    '           WHERE "recorrenciaId" = $7\n' +
    '           AND "dataHora" > $8\n' +
    '           AND id != $9',
  duration: 147,
  rows: 51
}
[API] Agendamentos futuros atualizados: 51
Executed query {
  text: 'SELECT \n' +
    '            a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '            a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '            a.status, a.observacoes, a."recorrenciaId", a."recorrenciaConfig", a."createdAt", a."updatedAt",\n' +
    '            q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '            p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone"\n' +
    '          FROM "Agendamento" a\n' +
    '          LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '          LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '          LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '          LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '          WHERE a.id = $1',
  duration: 140,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3000
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 PUT /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 200 in 1035ms (compile: 16ms, proxy.ts: 5ms, render: 1015ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 139,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&apenasAtivos=true 200 in 156ms (compile: 4ms, proxy.ts: 9ms, render: 144ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 418,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 142,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&status=CONFIRMADO 200 in 584ms (compile: 9ms, proxy.ts: 7ms, render: 568ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 289,
  rows: 18
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 425,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&apenasAtivos=true 200 in 450ms (compile: 11ms, proxy.ts: 8ms, render: 431ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 280,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 18 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&status=CONFIRMADO 200 in 590ms (compile: 7ms, proxy.ts: 8ms, render: 575ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 280,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 414,
  rows: 2
}
 GET /api/quadra 200 in 451ms (compile: 12ms, proxy.ts: 21ms, render: 419ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 578,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 628ms (compile: 24ms, proxy.ts: 21ms, render: 583ms)
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."ehAula", a."professorId", a."createdAt", a."updatedAt", a."createdById", a."updatedById",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '          pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '          pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '          up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '          uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '          uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '        LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '        LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '        LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '        WHERE a.id = $1',
  duration: 710,
  rows: 1
}
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 604,
  rows: 11
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 281,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 279,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 1200ms (compile: 11ms, proxy.ts: 20ms, render: 1169ms)
Executed query {
  text: 'SELECT \n' +
    '          aa.id, aa."atletaId", aa."createdAt",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '          at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '        FROM "AgendamentoAtleta" aa\n' +
    '        LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '        LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '        WHERE aa."agendamentoId" = $1\n' +
    '        ORDER BY aa."createdAt" ASC',
  duration: 280,
  rows: 0
}
 GET /api/agendamento/ae5d0245-ff6c-45ac-a65f-43d1287b9c64 200 in 1338ms (compile: 42ms, proxy.ts: 20ms, render: 1277ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."quadraId" = $1 AND a."dataHora" >= $2 AND a."dataHora" <= $3 AND a.status = $4 AND q."pointId" = $5 ORDER BY a."dataHora" ASC',
  duration: 142,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 278,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00&dataFim=2026-01-12T23:59:59&apenasAtivos=true 200 in 303ms (compile: 9ms, proxy.ts: 10ms, render: 283ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 414,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 440ms (compile: 13ms, proxy.ts: 9ms, render: 418ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 421,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 3 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc&dataInicio=2026-01-12T00:00:00&dataFim=2026-01-12T23:59:59&status=CONFIRMADO 200 in 583ms (compile: 5ms, proxy.ts: 10ms, render: 568ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 140,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 153ms (compile: 2ms, proxy.ts: 5ms, render: 145ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 141,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 154ms (compile: 2ms, proxy.ts: 5ms, render: 146ms)
[API PUT] ========== INÍCIO PUT /api/agendamento/[id] ==========
[API PUT] ID do agendamento: ae5d0245-ff6c-45ac-a65f-43d1287b9c64
Executed query {
  text: 'SELECT "usuarioId", "quadraId", "recorrenciaId", "recorrenciaConfig", "ehAula", "professorId" FROM "Agendamento" WHERE id = $1',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 139,
  rows: 1
}
[API PUT] Recebido payload: {
  "observacoes": "turma de segundas as 6h15 - cheilinha , grace, helen ..",
  "dataHora": "2026-01-12T09:15:00",
  "atletaId": "98cb2049-8740-443b-825f-f47d1ddc19ba",
  "nomeAvulso": null,
  "telefoneAvulso": null,
  "valorNegociado": "0.00",
  "valorHora": 66,
  "valorCalculado": 99,
  "recorrencia": null,
  "atletasParticipantesIds": [],
  "ehAula": false,
  "professorId": null,
  "aplicarARecorrencia": true
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '         WHERE "quadraId" = $1\n' +
    '         AND id != $2\n' +
    "         AND status = 'CONFIRMADO'\n" +
    '         AND "dataHora" < $4\n' +
    `         AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 140,
  rows: 0
}
Executed query {
  text: 'SELECT "dataHora", "recorrenciaId", "recorrenciaConfig", "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso", duracao, "valorHora", "valorCalculado", "valorNegociado", observacoes FROM "Agendamento" WHERE id = $1',
  duration: 143,
  rows: 1
}
[API] dataHoraAtualRecorrencia (após normalizarDataHora): 2026-01-12T06:15:00.000Z timestamp: 1768198500000
[API] Verificando condições: {
  temRecorrenciaAtual: true,
  aplicarARecorrencia: true,
  temRecorrencia: false,
  temTipo: undefined,
  recorrenciaIdAtual: 'b7af5460-223c-485c-8a31-da35cce823ea'
}
[API] Entrando no bloco: Aplicar alterações aos futuros (sem recriar recorrência)
[API] Observações: turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] DataHora: 2026-01-12T09:15:00
[API] Duração: undefined
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    '                 SET "dataHora" = $1, observacoes = $2, "atletaId" = $3, "nomeAvulso" = $4, "telefoneAvulso" = $5, "valorHora" = $6, "valorCalculado" = $7, "valorNegociado" = $8, "ehAula" = $9, "professorId" = $10, "updatedAt" = NOW(), "updatedById" = $11\n' +
    '                 WHERE id = $12\n' +
    '                 RETURNING id',
  duration: 143,
  rows: 1
}
[API] Cálculo de diferença de tempo: {
  dataHoraAtual: '2026-01-12T06:15:00.000Z',
  dataHoraNova: '2026-01-12T09:15:00.000Z',
  diferencaMs: 10800000,
  diferencaHoras: 3,
  diferencaMinutos: 180,
  diferencaMinutosAbs: 180
}
[API] Intervalo SQL calculado: 3 hours
[API] Atualizando agendamentos futuros. SQL: UPDATE "Agendamento" SET "dataHora" = "dataHora" + INTERVAL '3 hours', observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6 WHERE "recorrenciaId" = $7 AND "dataHora" > $8 AND id != $9
[API] Parâmetros: 9 params
[API] Parâmetros completos: [
  "turma de segundas as 6h15 - cheilinha , grace, helen ..",
  66,
  99,
  false,
  null,
  "80417553-b03c-4a7d-8c3b-8b043ad5e1b9",
  "b7af5460-223c-485c-8a31-da35cce823ea",
  "2026-01-12T06:15:00.000Z",
  "ae5d0245-ff6c-45ac-a65f-43d1287b9c64"
]
[API] Observações que serão aplicadas (valor bruto): turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] Observações que serão aplicadas (valor processado): turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] Índice de observacoes no array paramsFuturos: 0
[API] Valor de paramsFuturos[indiceObservacoes]: turma de segundas as 6h15 - cheilinha , grace, helen ..
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    `           SET "dataHora" = "dataHora" + INTERVAL '3 hours', observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6\n` +
    '           WHERE "recorrenciaId" = $7\n' +
    '           AND "dataHora" > $8\n' +
    '           AND id != $9',
  duration: 147,
  rows: 50
}
[API] Agendamentos futuros atualizados: 50
Executed query {
  text: 'SELECT \n' +
    '            a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '            a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '            a.status, a.observacoes, a."recorrenciaId", a."recorrenciaConfig", a."createdAt", a."updatedAt",\n' +
    '            q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '            p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone"\n' +
    '          FROM "Agendamento" a\n' +
    '          LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '          LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '          LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '          LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '          WHERE a.id = $1',
  duration: 141,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3000
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 PUT /api/agendamento/ae5d0245-ff6c-45ac-a65f-43d1287b9c64 200 in 1040ms (compile: 19ms, proxy.ts: 7ms, render: 1013ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 141,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&apenasAtivos=true 200 in 163ms (compile: 6ms, proxy.ts: 11ms, render: 146ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 418,
  rows: 18
}
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 140,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 18 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&status=CONFIRMADO 200 in 584ms (compile: 9ms, proxy.ts: 11ms, render: 564ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 279,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 414,
  rows: 2
}
 GET /api/quadra 200 in 451ms (compile: 15ms, proxy.ts: 17ms, render: 419ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 538,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 591ms (compile: 31ms, proxy.ts: 17ms, render: 543ms)
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."ehAula", a."professorId", a."createdAt", a."updatedAt", a."createdById", a."updatedById",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '          pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '          pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '          up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '          uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '          uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '        LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '        LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '        LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '        WHERE a.id = $1',
  duration: 664,
  rows: 1
}
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 567,
  rows: 11
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 281,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 280,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 1161ms (compile: 11ms, proxy.ts: 17ms, render: 1133ms)
Executed query {
  text: 'SELECT \n' +
    '          aa.id, aa."atletaId", aa."createdAt",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '          at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '        FROM "AgendamentoAtleta" aa\n' +
    '        LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '        LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '        WHERE aa."agendamentoId" = $1\n' +
    '        ORDER BY aa."createdAt" ASC',
  duration: 279,
  rows: 0
}
 GET /api/agendamento/ae5d0245-ff6c-45ac-a65f-43d1287b9c64 200 in 1297ms (compile: 47ms, proxy.ts: 17ms, render: 1234ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 142,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 153ms (compile: 3ms, proxy.ts: 4ms, render: 146ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 141,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 155ms (compile: 3ms, proxy.ts: 5ms, render: 147ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 140,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 158ms (compile: 5ms, proxy.ts: 6ms, render: 147ms)
[API PUT] ========== INÍCIO PUT /api/agendamento/[id] ==========
[API PUT] ID do agendamento: ae5d0245-ff6c-45ac-a65f-43d1287b9c64
Executed query {
  text: 'SELECT "usuarioId", "quadraId", "recorrenciaId", "recorrenciaConfig", "ehAula", "professorId" FROM "Agendamento" WHERE id = $1',
  duration: 150,
  rows: 1
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 139,
  rows: 1
}
[API PUT] Recebido payload: {
  "observacoes": "turma de segundas as 6h15 - cheilinha , grace, helen ..",
  "dataHora": "2026-01-12T06:15:00",
  "atletaId": "98cb2049-8740-443b-825f-f47d1ddc19ba",
  "nomeAvulso": null,
  "telefoneAvulso": null,
  "valorNegociado": "0.00",
  "valorHora": 66,
  "valorCalculado": 99,
  "recorrencia": null,
  "atletasParticipantesIds": [],
  "ehAula": false,
  "professorId": null,
  "aplicarARecorrencia": true
}
Executed query {
  text: 'SELECT id FROM "Agendamento"\n' +
    '         WHERE "quadraId" = $1\n' +
    '         AND id != $2\n' +
    "         AND status = 'CONFIRMADO'\n" +
    '         AND "dataHora" < $4\n' +
    `         AND ("dataHora" + ($5 * INTERVAL '1 minute')) > $3`,
  duration: 139,
  rows: 0
}
Executed query {
  text: 'SELECT "dataHora", "recorrenciaId", "recorrenciaConfig", "quadraId", "usuarioId", "atletaId", "nomeAvulso", "telefoneAvulso", duracao, "valorHora", "valorCalculado", "valorNegociado", observacoes FROM "Agendamento" WHERE id = $1',
  duration: 139,
  rows: 1
}
[API] dataHoraAtualRecorrencia (após normalizarDataHora): 2026-01-12T12:15:00.000Z timestamp: 1768220100000
[API] Verificando condições: {
  temRecorrenciaAtual: true,
  aplicarARecorrencia: true,
  temRecorrencia: false,
  temTipo: undefined,
  recorrenciaIdAtual: 'b7af5460-223c-485c-8a31-da35cce823ea'
}
[API] Entrando no bloco: Aplicar alterações aos futuros (sem recriar recorrência)
[API] Observações: turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] DataHora: 2026-01-12T06:15:00
[API] Duração: undefined
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    '                 SET "dataHora" = $1, observacoes = $2, "atletaId" = $3, "nomeAvulso" = $4, "telefoneAvulso" = $5, "valorHora" = $6, "valorCalculado" = $7, "valorNegociado" = $8, "ehAula" = $9, "professorId" = $10, "updatedAt" = NOW(), "updatedById" = $11\n' +
    '                 WHERE id = $12\n' +
    '                 RETURNING id',
  duration: 144,
  rows: 1
}
[API] Cálculo de diferença de tempo: {
  dataHoraAtual: '2026-01-12T12:15:00.000Z',
  dataHoraNova: '2026-01-12T06:15:00.000Z',
  diferencaMs: -21600000,
  diferencaHoras: -6,
  diferencaMinutos: -360,
  diferencaMinutosAbs: 360
}
[API] Intervalo SQL calculado: -6 hours
[API] Atualizando agendamentos futuros. SQL: UPDATE "Agendamento" SET "dataHora" = "dataHora" + INTERVAL '-6 hours', observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6 WHERE "recorrenciaId" = $7 AND "dataHora" > $8 AND id != $9
[API] Parâmetros: 9 params
[API] Parâmetros completos: [
  "turma de segundas as 6h15 - cheilinha , grace, helen ..",
  66,
  99,
  false,
  null,
  "80417553-b03c-4a7d-8c3b-8b043ad5e1b9",
  "b7af5460-223c-485c-8a31-da35cce823ea",
  "2026-01-12T12:15:00.000Z",
  "ae5d0245-ff6c-45ac-a65f-43d1287b9c64"
]
[API] Observações que serão aplicadas (valor bruto): turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] Observações que serão aplicadas (valor processado): turma de segundas as 6h15 - cheilinha , grace, helen ..
[API] Índice de observacoes no array paramsFuturos: 0
[API] Valor de paramsFuturos[indiceObservacoes]: turma de segundas as 6h15 - cheilinha , grace, helen ..
Executed query {
  text: 'UPDATE "Agendamento"\n' +
    `           SET "dataHora" = "dataHora" + INTERVAL '-6 hours', observacoes = $1, "valorHora" = $2, "valorCalculado" = $3, "ehAula" = $4, "professorId" = $5, "updatedAt" = NOW(), "updatedById" = $6\n` +
    '           WHERE "recorrenciaId" = $7\n' +
    '           AND "dataHora" > $8\n' +
    '           AND id != $9',
  duration: 147,
  rows: 50
}
[API] Agendamentos futuros atualizados: 50
Executed query {
  text: 'SELECT \n' +
    '            a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '            a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '            a.status, a.observacoes, a."recorrenciaId", a."recorrenciaConfig", a."createdAt", a."updatedAt",\n' +
    '            q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '            p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone"\n' +
    '          FROM "Agendamento" a\n' +
    '          LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '          LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '          LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '          LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '          WHERE a.id = $1',
  duration: 141,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3000
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 PUT /api/agendamento/ae5d0245-ff6c-45ac-a65f-43d1287b9c64 200 in 1031ms (compile: 11ms, proxy.ts: 4ms, render: 1016ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 283,
  rows: 18
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 416,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&apenasAtivos=true 200 in 440ms (compile: 10ms, proxy.ts: 8ms, render: 422ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 279,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 18 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-12T00:00:00.000Z&dataFim=2026-01-16T23:59:59.999Z&status=CONFIRMADO 200 in 583ms (compile: 6ms, proxy.ts: 8ms, render: 569ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 282,
  rows: 17
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 419,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-19T00:00:00.000Z&dataFim=2026-01-23T23:59:59.999Z&apenasAtivos=true 200 in 442ms (compile: 9ms, proxy.ts: 9ms, render: 424ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 279,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 17 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-19T00:00:00.000Z&dataFim=2026-01-23T23:59:59.999Z&status=CONFIRMADO 200 in 582ms (compile: 6ms, proxy.ts: 9ms, render: 567ms)
 GET /service-worker.js 404 in 43ms (compile: 5ms, render: 38ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1199,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1340,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&apenasAtivos=true 200 in 1363ms (compile: 9ms, proxy.ts: 8ms, render: 1345ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 292,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&status=CONFIRMADO 200 in 1510ms (compile: 5ms, proxy.ts: 8ms, render: 1496ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 393,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 536,
  rows: 2
}
 GET /api/quadra 200 in 572ms (compile: 14ms, proxy.ts: 17ms, render: 541ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 670,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 719ms (compile: 27ms, proxy.ts: 17ms, render: 675ms)
Executed query {
  text: 'SELECT \n' +
    '          a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '          a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '          a.status, a.observacoes, a."ehAula", a."professorId", a."createdAt", a."updatedAt", a."createdById", a."updatedById",\n' +
    '          q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '          p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '          pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '          pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '          up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '          uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '          uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '        FROM "Agendamento" a\n' +
    '        LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '        LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '        LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '        LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '        LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '        LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '        LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '        LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '        WHERE a.id = $1',
  duration: 804,
  rows: 1
}
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 593,
  rows: 11
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 292,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 289,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 1311ms (compile: 11ms, proxy.ts: 15ms, render: 1285ms)
Executed query {
  text: 'SELECT \n' +
    '          aa.id, aa."atletaId", aa."createdAt",\n' +
    '          at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '          at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '          u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '        FROM "AgendamentoAtleta" aa\n' +
    '        LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '        LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '        WHERE aa."agendamentoId" = $1\n' +
    '        ORDER BY aa."createdAt" ASC',
  duration: 291,
  rows: 0
}
 GET /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 200 in 1456ms (compile: 45ms, proxy.ts: 16ms, render: 1395ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."quadraId" = $1 AND a."dataHora" >= $2 AND a."dataHora" <= $3 AND a.status = $4 AND q."pointId" = $5 ORDER BY a."dataHora" ASC',
  duration: 150,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 291,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00&dataFim=2026-01-05T23:59:59&apenasAtivos=true 200 in 319ms (compile: 10ms, proxy.ts: 11ms, render: 298ms)
Executed query {
  text: 'SELECT \n' +
    '      tp.id, tp."quadraId", tp."inicioMinutoDia", tp."fimMinutoDia", \n' +
    '      tp."valorHora", tp."valorHoraAula", tp.ativo, tp."createdAt", tp."updatedAt",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId"\n' +
    '    FROM "TabelaPreco" tp\n' +
    '    LEFT JOIN "Quadra" q ON tp."quadraId" = q.id WHERE q."pointId" = $1 AND tp."quadraId" = $2 ORDER BY tp."inicioMinutoDia" ASC',
  duration: 434,
  rows: 2
}
 GET /api/tabela-preco?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc 200 in 464ms (compile: 15ms, proxy.ts: 11ms, render: 438ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 440,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 3 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?quadraId=24f0c8f0-9ceb-4fbb-a0bd-ecdc65dd0cdc&dataInicio=2026-01-05T00:00:00&dataFim=2026-01-05T23:59:59&status=CONFIRMADO 200 in 613ms (compile: 6ms, proxy.ts: 11ms, render: 596ms)
Executed query {
  text: 'SELECT "usuarioId", "quadraId", "recorrenciaId", "dataHora" FROM "Agendamento" WHERE id = $1',
  duration: 1013,
  rows: 1
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 138,
  rows: 1
}
Executed query {
  text: 'DELETE FROM "Agendamento"\n' +
    '           WHERE "recorrenciaId" = $1\n' +
    '           AND "dataHora" >= $2',
  duration: 144,
  rows: 51
}
[CORS DEBUG] Origin recebida: http://localhost:3000
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 DELETE /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 200 in 1323ms (compile: 13ms, proxy.ts: 4ms, render: 1305ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 140,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&apenasAtivos=true 200 in 156ms (compile: 4ms, proxy.ts: 7ms, render: 144ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 525,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 141,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&status=CONFIRMADO 200 in 687ms (compile: 8ms, proxy.ts: 7ms, render: 672ms)
Executed query {
  text: 'SELECT "usuarioId", "quadraId", "recorrenciaId", "dataHora" FROM "Agendamento" WHERE id = $1',
  duration: 1009,
  rows: 1
}
Executed query {
  text: 'SELECT "pointId" FROM "Quadra" WHERE id = $1',
  duration: 140,
  rows: 1
}
Executed query {
  text: 'DELETE FROM "Agendamento"\n' +
    '           WHERE "recorrenciaId" = $1\n' +
    '           AND "dataHora" >= $2',
  duration: 139,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3000
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 DELETE /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 200 in 1319ms (compile: 11ms, proxy.ts: 7ms, render: 1301ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 142,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&apenasAtivos=true 200 in 160ms (compile: 4ms, proxy.ts: 8ms, render: 148ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 419,
  rows: 20
}
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 140,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 20 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-05T00:00:00.000Z&dataFim=2026-01-09T23:59:59.999Z&status=CONFIRMADO 200 in 582ms (compile: 9ms, proxy.ts: 8ms, render: 565ms)
 GET /service-worker.js 404 in 44ms (compile: 6ms, render: 39ms)
 GET /api/agendamento/dcd7aa8d-7932-4cb9-b70e-d2cb8ff1737a 500 in 1701ms (compile: 1438ms, proxy.ts: 18ms, render: 245ms)
Executed query {
  text: 'SELECT DISTINCT ON (a.id) a.*, \n' +
    '              u.id as "usuario_id", \n' +
    '              u.name as "usuario_name", \n' +
    '              u.email as "usuario_email", \n' +
    '              u.role as "usuario_role" \n' +
    '       FROM "Atleta" a \n' +
    '       LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '       LEFT JOIN "AtletaPoint" ap ON a.id = ap."atletaId"\n' +
    '       WHERE (a."pointIdPrincipal" = $1 OR ap."pointId" = $1)\n' +
    '       ORDER BY a.id, a.nome ASC',
  duration: 2035,
  rows: 51
}
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 2190,
  rows: 2
}
 GET /api/quadra 200 in 2.2s (compile: 17ms, proxy.ts: 17ms, render: 2.2s)
Executed query {
  text: 'SELECT p.*, \n' +
    '            u.id as "usuario_id",\n' +
    '            u.name as "usuario_name",\n' +
    '            u.email as "usuario_email",\n' +
    '            u.role as "usuario_role"\n' +
    '     FROM "Professor" p\n' +
    '     LEFT JOIN "User" u ON p."userId" = u.id\n' +
    '     WHERE p.ativo = $1 AND (p."pointIdPrincipal" = $2 OR EXISTS (\n' +
    '      SELECT 1 FROM "ProfessorPoint" pp \n' +
    '      WHERE pp."professorId" = p.id AND pp."pointId" = $2\n' +
    '    ))\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 2317,
  rows: 0
}
 GET /api/professor?ativo=true 200 in 2.4s (compile: 44ms, proxy.ts: 16ms, render: 2.3s)
Executed query {
  text: 'SELECT ap."atletaId", p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = ANY($1::text[])\n' +
    '       ORDER BY ap."atletaId", p.nome ASC',
  duration: 472,
  rows: 11
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = ANY($1::text[])',
  duration: 141,
  rows: 1
}
 GET /api/atleta/listarAtletas 200 in 2.7s (compile: 12ms, proxy.ts: 22ms, render: 2.7s)
 GET /api/quadra 500 in 171ms (compile: 109ms, proxy.ts: 20ms, render: 42ms)
 GET /api/agendamento?dataInicio=2025-12-29T00:00:00 500 in 167ms (compile: 122ms, proxy.ts: 20ms, render: 25ms)
 GET /api/bloqueio-agenda?dataInicio=2025-12-29T00:00:00&apenasAtivos=true 500 in 166ms (compile: 134ms, proxy.ts: 16ms, render: 15ms)
 GET /api/quadra 500 in 134ms (compile: 71ms, proxy.ts: 22ms, render: 41ms)
 GET /api/agendamento?dataInicio=2025-12-29T00:00:00 500 in 131ms (compile: 81ms, proxy.ts: 21ms, render: 28ms)
 GET /api/bloqueio-agenda?dataInicio=2025-12-29T00:00:00&apenasAtivos=true 500 in 123ms (compile: 94ms, proxy.ts: 14ms, render: 15ms)
 GET /service-worker.js 404 in 48ms (compile: 7ms, render: 40ms)
Deseja finalizar o arquivo em lotes (S/N)? [?25h

