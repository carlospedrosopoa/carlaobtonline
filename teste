
> appatleta@0.1.0 dev
> next dev

   ▲ Next.js 16.0.7 (Turbopack)
   - Local:         http://localhost:3000
   - Network:       http://192.168.15.70:3000
   - Environments: .env.local

 ✓ Starting...
 ✓ Ready in 1417ms
 GET /app/arena/agendamentos/agenda 200 in 3.1s (compile: 2.8s, render: 281ms)
[GCS] Storage inicializado com sucesso
[GCS] Storage inicializado com sucesso
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 1036,
  rows: 2
}
 GET /api/quadra?pointId=2d77100f-aec8-45ca-b802-fcc964f539a9 200 in 1934ms (compile: 768ms, proxy.ts: 71ms, render: 1095ms)
Executed query {
  text: 'SELECT \n' +
    '      q.id, q.nome, q."pointId", q.tipo, q.capacidade, q.ativo, \n' +
    '      q."tiposEsporte", q."createdAt", q."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "Quadra" q\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id WHERE q."pointId" = $1 ORDER BY q.nome ASC',
  duration: 1176,
  rows: 2
}
 GET /api/quadra?pointId=2d77100f-aec8-45ca-b802-fcc964f539a9 200 in 2.1s (compile: 779ms, proxy.ts: 80ms, render: 1236ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 1321,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-09T00:00:00.000Z&dataFim=2026-01-13T23:59:59.999Z&apenasAtivos=true 200 in 2.2s (compile: 776ms, proxy.ts: 79ms, render: 1381ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1466,
  rows: 4
}
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND q."pointId" = $4 ORDER BY a."dataHora" ASC',
  duration: 1612,
  rows: 4
}
Executed query {
  text: 'SELECT \n' +
    '          id, nome, endereco, telefone, email, descricao, "logoUrl", "cardTemplateUrl", latitude, longitude, ativo,\n' +
    '          "whatsappAccessToken", "whatsappPhoneNumberId", "whatsappBusinessAccountId", "whatsappApiVersion", "whatsappAtivo",\n' +
    '          "gzappyApiKey", "gzappyInstanceId", "gzappyAtivo",\n' +
    '          "enviarLembretesAgendamento", "antecedenciaLembrete",\n' +
    '          "infinitePayHandle",\n' +
    '          assinante, "createdAt", "updatedAt"\n' +
    '        FROM "Point"\n' +
    '        WHERE id = $1',
  duration: 820,
  rows: 1
}
 GET /api/point/2d77100f-aec8-45ca-b802-fcc964f539a9 200 in 2.7s (compile: 1760ms, proxy.ts: 78ms, render: 827ms)
Executed query {
  text: 'SELECT \n' +
    '      b.id, b."pointId", b."quadraIds", b.titulo, b.descricao,\n' +
    '      b."dataInicio", b."dataFim", b."horaInicio", b."horaFim",\n' +
    '      b.ativo, b."createdAt", b."updatedAt",\n' +
    '      p.id as "point_id", p.nome as "point_nome"\n' +
    '    FROM "BloqueioAgenda" b\n' +
    '    LEFT JOIN "Point" p ON b."pointId" = p.id\n' +
    '    WHERE 1=1 AND b."pointId" = $1 AND b."dataFim" >= $2 AND b."dataInicio" <= $3 AND b.ativo = true ORDER BY b."dataInicio" ASC, b."createdAt" DESC',
  duration: 853,
  rows: 0
}
 GET /api/bloqueio-agenda?dataInicio=2026-01-09T00:00:00.000Z&dataFim=2026-01-13T23:59:59.999Z&apenasAtivos=true 200 in 868ms (compile: 3ms, proxy.ts: 6ms, render: 858ms)
Executed query {
  text: 'SELECT \n' +
    '          id, nome, endereco, telefone, email, descricao, "logoUrl", "cardTemplateUrl", latitude, longitude, ativo,\n' +
    '          "whatsappAccessToken", "whatsappPhoneNumberId", "whatsappBusinessAccountId", "whatsappApiVersion", "whatsappAtivo",\n' +
    '          "gzappyApiKey", "gzappyInstanceId", "gzappyAtivo",\n' +
    '          "enviarLembretesAgendamento", "antecedenciaLembrete",\n' +
    '          "infinitePayHandle",\n' +
    '          assinante, "createdAt", "updatedAt"\n' +
    '        FROM "Point"\n' +
    '        WHERE id = $1',
  duration: 829,
  rows: 1
}
 GET /api/point/2d77100f-aec8-45ca-b802-fcc964f539a9 200 in 872ms (compile: 31ms, proxy.ts: 6ms, render: 835ms)
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."nomeAvulso", aa."telefoneAvulso", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 727,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 4 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-09T00:00:00.000Z&dataFim=2026-01-13T23:59:59.999Z&status=CONFIRMADO 200 in 3.1s (compile: 778ms, proxy.ts: 80ms, render: 2.3s)
[GCS] Storage inicializado com sucesso
Executed query {
  text: 'SELECT \n' +
    '            aa."agendamentoId", aa.id, aa."atletaId", aa."nomeAvulso", aa."telefoneAvulso", aa."createdAt",\n' +
    '            at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", \n' +
    '            at."usuarioId" as "atleta_usuarioId", at."fotoUrl" as "atleta_fotoUrl",\n' +
    '            u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email"\n' +
    '          FROM "AgendamentoAtleta" aa\n' +
    '          LEFT JOIN "Atleta" at ON aa."atletaId" = at.id\n' +
    '          LEFT JOIN "User" u ON at."usuarioId" = u.id\n' +
    '          WHERE aa."agendamentoId" = ANY($1::text[])\n' +
    '          ORDER BY aa."agendamentoId", aa."createdAt" ASC',
  duration: 726,
  rows: 0
}
[GET /api/agendamento] Buscando participantes para 4 agendamentos
[GET /api/agendamento] Encontrados 0 registros de participantes
 GET /api/agendamento?dataInicio=2026-01-09T00:00:00.000Z&dataFim=2026-01-13T23:59:59.999Z&status=CONFIRMADO 200 in 3.2s (compile: 768ms, proxy.ts: 71ms, render: 2.4s)
 GET /service-worker.js 404 in 497ms (compile: 439ms, render: 58ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 1019,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 573,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 143,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/atleta/me/atleta 200 in 2.0s (compile: 125ms, proxy.ts: 8ms, render: 1893ms)
[getUsuarioLogado] Buscando usuário com ID: 488277ed-9a4d-4acc-b117-83272c80647a
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 173,
  rows: 1
}
Executed query {
  text: 'SELECT p.*, \n' +
    '     a1.nome as "atleta1Nome", a1.id as "atleta1Id", \n' +
    '     a2.nome as "atleta2Nome", a2.id as "atleta2Id",\n' +
    '     a3.nome as "atleta3Nome", a3.id as "atleta3Id", \n' +
    '     a4.nome as "atleta4Nome", a4.id as "atleta4Id"\n' +
    '     FROM "Partida" p\n' +
    '     LEFT JOIN "Atleta" a1 ON p."atleta1Id" = a1.id\n' +
    '     LEFT JOIN "Atleta" a2 ON p."atleta2Id" = a2.id\n' +
    '     LEFT JOIN "Atleta" a3 ON p."atleta3Id" = a3.id\n' +
    '     LEFT JOIN "Atleta" a4 ON p."atleta4Id" = a4.id\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 196,
  rows: 66
}
Executed query {
  text: 'SELECT id, name, email, role, "pointIdGestor" FROM "User" WHERE id = $1',
  duration: 293,
  rows: 1
}
[getUsuarioLogado] Usuário encontrado: {
  id: '488277ed-9a4d-4acc-b117-83272c80647a',
  email: 'andre@bt.com',
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/getUsuarioLogado 200 in 495ms (compile: 179ms, proxy.ts: 13ms, render: 303ms)
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 435,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 430,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 574,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 717,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 861,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 1005,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 1149,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 1291,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 1434,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 1580,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 1724,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 1868,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 2010,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 2153,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 2295,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 2440,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 2583,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 2727,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 2871,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 3015,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 3158,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 3300,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 3442,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 3586,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 3732,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 3876,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 4019,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 4165,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 4307,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 4449,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 4592,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 4735,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 4878,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 5020,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 5165,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 5308,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 5450,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 5593,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 5737,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 5879,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 6021,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 6163,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 6307,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 6451,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 6594,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 6736,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 6881,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 7058,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 7200,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 7344,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 7487,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 7631,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 7775,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 7920,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 8062,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 8206,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 8350,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 8496,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 8640,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 8784,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 8929,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 9072,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 9216,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 9361,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 9503,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 9647,
  rows: 0
}
Executed query {
  text: 'SELECT \n' +
    '            pp."panelinhaId",\n' +
    '            p.nome as "panelinhaNome",\n' +
    '            p."esporte" as "panelinhaEsporte"\n' +
    '          FROM "PartidaPanelinha" pp\n' +
    '          INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '          WHERE pp."partidaId" = $1',
  duration: 9791,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/partida/listarPartidas 200 in 10.1s (compile: 132ms, proxy.ts: 13ms, render: 10.0s)
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 9794,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 145,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/atleta/me/atleta 200 in 10.6s (compile: 9ms, proxy.ts: 13ms, render: 10.6s)
[getUsuarioLogado] Buscando usuário com ID: 488277ed-9a4d-4acc-b117-83272c80647a
Executed query {
  text: 'SELECT id, name, email, role, "pointIdGestor" FROM "User" WHERE id = $1',
  duration: 143,
  rows: 1
}
[getUsuarioLogado] Usuário encontrado: {
  id: '488277ed-9a4d-4acc-b117-83272c80647a',
  email: 'andre@bt.com',
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/getUsuarioLogado 200 in 165ms (compile: 5ms, proxy.ts: 8ms, render: 152ms)
 GET /service-worker.js 404 in 48ms (compile: 7ms, render: 41ms)
 GET /app/arena/agendamentos/agenda 200 in 26ms (compile: 3ms, render: 23ms)
 GET /service-worker.js 404 in 41ms (compile: 5ms, render: 36ms)
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 1558,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 1630,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 434,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 2.0s (compile: 4ms, proxy.ts: 8ms, render: 2.0s)
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 392,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 274,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 751,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 755,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 1046ms (compile: 3ms, proxy.ts: 5ms, render: 1038ms)
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 294,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/perfil/atleta 200 in 3.2s (compile: 120ms, proxy.ts: 8ms, render: 3.1s)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '        id, nome, endereco, telefone, email, descricao, "logoUrl", \n' +
    '        latitude, longitude, ativo, assinante\n' +
    '      FROM "Point"\n' +
    '      WHERE assinante = true AND ativo = true\n' +
    '      ORDER BY nome ASC',
  duration: 348,
  rows: 2
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/arenas/listar 200 in 460ms (compile: 94ms, proxy.ts: 7ms, render: 359ms)
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 437,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 263,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 434,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 439,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 722ms (compile: 3ms, proxy.ts: 7ms, render: 712ms)
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 293,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/perfil/atleta 200 in 1336ms (compile: 5ms, proxy.ts: 10ms, render: 1321ms)
Executed query {
  text: 'SELECT \n' +
    '        id, nome, endereco, telefone, email, descricao, "logoUrl", \n' +
    '        latitude, longitude, ativo, assinante\n' +
    '      FROM "Point"\n' +
    '      WHERE assinante = true AND ativo = true\n' +
    '      ORDER BY nome ASC',
  duration: 158,
  rows: 2
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/arenas/listar 200 in 174ms (compile: 3ms, proxy.ts: 4ms, render: 167ms)
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 149,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 309ms (compile: 3ms, proxy.ts: 4ms, render: 301ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 581,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 145,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/atleta/me/atleta 200 in 1046ms (compile: 4ms, proxy.ts: 9ms, render: 1034ms)
[getUsuarioLogado] Buscando usuário com ID: 488277ed-9a4d-4acc-b117-83272c80647a
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'SELECT id, name, email, role, "pointIdGestor" FROM "User" WHERE id = $1',
  duration: 287,
  rows: 1
}
[getUsuarioLogado] Usuário encontrado: {
  id: '488277ed-9a4d-4acc-b117-83272c80647a',
  email: 'andre@bt.com',
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/getUsuarioLogado 200 in 322ms (compile: 12ms, proxy.ts: 13ms, render: 297ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '     a1.nome as "atleta1Nome", a1.id as "atleta1Id", \n' +
    '     a2.nome as "atleta2Nome", a2.id as "atleta2Id",\n' +
    '     a3.nome as "atleta3Nome", a3.id as "atleta3Id", \n' +
    '     a4.nome as "atleta4Nome", a4.id as "atleta4Id"\n' +
    '     FROM "Partida" p\n' +
    '     LEFT JOIN "Atleta" a1 ON p."atleta1Id" = a1.id\n' +
    '     LEFT JOIN "Atleta" a2 ON p."atleta2Id" = a2.id\n' +
    '     LEFT JOIN "Atleta" a3 ON p."atleta3Id" = a3.id\n' +
    '     LEFT JOIN "Atleta" a4 ON p."atleta4Id" = a4.id\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 359,
  rows: 66
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 453,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '          pp."partidaId",\n' +
    '          pp."panelinhaId",\n' +
    '          p.nome as "panelinhaNome",\n' +
    '          p."esporte" as "panelinhaEsporte"\n' +
    '        FROM "PartidaPanelinha" pp\n' +
    '        INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '        WHERE pp."partidaId" = ANY($1::text[])',
  duration: 307,
  rows: 14
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/partida/listarPartidas 200 in 788ms (compile: 94ms, proxy.ts: 11ms, render: 683ms)
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 453,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 144,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/atleta/me/atleta 200 in 1232ms (compile: 8ms, proxy.ts: 16ms, render: 1208ms)
[getUsuarioLogado] Buscando usuário com ID: 488277ed-9a4d-4acc-b117-83272c80647a
Executed query {
  text: 'SELECT id, name, email, role, "pointIdGestor" FROM "User" WHERE id = $1',
  duration: 144,
  rows: 1
}
[getUsuarioLogado] Usuário encontrado: {
  id: '488277ed-9a4d-4acc-b117-83272c80647a',
  email: 'andre@bt.com',
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/getUsuarioLogado 200 in 165ms (compile: 2ms, proxy.ts: 7ms, render: 156ms)
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
[PANELINHA] User ID: 488277ed-9a4d-4acc-b117-83272c80647a Role: USER
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 1036,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 579,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 146,
  rows: 1
}
[PANELINHA] Atleta encontrado: { id: '4f609e18-ba26-4a31-9fa4-b2895a2201dd', nome: 'andre ' }
[PANELINHA] Executando query SQL com atletaId: 4f609e18-ba26-4a31-9fa4-b2895a2201dd
Executed query {
  text: '\n' +
    '      SELECT DISTINCT ON (p.id)\n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Contar membros\n' +
    '        COALESCE((\n' +
    '          SELECT COUNT(*) \n' +
    '          FROM "PanelinhaAtleta" pa \n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ), 0) as "totalMembros",\n' +
    '        -- Buscar membros com fotos (usar COALESCE para retornar array vazio se null)\n' +
    '        COALESCE((\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl"\n` +
    '            )\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa2\n' +
    '          INNER JOIN "Atleta" a ON pa2."atletaId" = a.id\n' +
    '          WHERE pa2."panelinhaId" = p.id\n' +
    '          LIMIT 4\n' +
    `        )::text, '[]')::json as "membros"\n` +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p."atletaIdCriador" = $1\n' +
    '         OR EXISTS (\n' +
    '           SELECT 1 \n' +
    '           FROM "PanelinhaAtleta" pa \n' +
    '           WHERE pa."panelinhaId" = p.id \n' +
    '           AND pa."atletaId" = $1\n' +
    '         )\n' +
    '      ORDER BY p.id, p."updatedAt" DESC NULLS LAST\n' +
    '    ',
  duration: 167,
  rows: 1
}
[PANELINHA] Query executada com sucesso. Resultados: 1
[PANELINHA] Processando panelinha: a7f0af8d-4c1c-48ce-9273-add18841b27a Turma das 6h
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha 200 in 2.2s (compile: 110ms, proxy.ts: 5ms, render: 2.1s)
[PANELINHA] User ID: 488277ed-9a4d-4acc-b117-83272c80647a Role: USER
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 289,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 147,
  rows: 1
}
[PANELINHA] Atleta encontrado: { id: '4f609e18-ba26-4a31-9fa4-b2895a2201dd', nome: 'andre ' }
[PANELINHA] Executando query SQL com atletaId: 4f609e18-ba26-4a31-9fa4-b2895a2201dd
Executed query {
  text: '\n' +
    '      SELECT DISTINCT ON (p.id)\n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Contar membros\n' +
    '        COALESCE((\n' +
    '          SELECT COUNT(*) \n' +
    '          FROM "PanelinhaAtleta" pa \n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ), 0) as "totalMembros",\n' +
    '        -- Buscar membros com fotos (usar COALESCE para retornar array vazio se null)\n' +
    '        COALESCE((\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl"\n` +
    '            )\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa2\n' +
    '          INNER JOIN "Atleta" a ON pa2."atletaId" = a.id\n' +
    '          WHERE pa2."panelinhaId" = p.id\n' +
    '          LIMIT 4\n' +
    `        )::text, '[]')::json as "membros"\n` +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p."atletaIdCriador" = $1\n' +
    '         OR EXISTS (\n' +
    '           SELECT 1 \n' +
    '           FROM "PanelinhaAtleta" pa \n' +
    '           WHERE pa."panelinhaId" = p.id \n' +
    '           AND pa."atletaId" = $1\n' +
    '         )\n' +
    '      ORDER BY p.id, p."updatedAt" DESC NULLS LAST\n' +
    '    ',
  duration: 145,
  rows: 1
}
[PANELINHA] Query executada com sucesso. Resultados: 1
[PANELINHA] Processando panelinha: a7f0af8d-4c1c-48ce-9273-add18841b27a Turma das 6h
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha 200 in 895ms (compile: 5ms, proxy.ts: 6ms, render: 884ms)
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 579,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p.descricao, p."esporte", p."atletaIdCriador", p."createdAt", p."updatedAt",\n' +
    '              (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '              EXISTS (\n' +
    '                SELECT 1 FROM "PanelinhaAtleta" pa \n' +
    '                WHERE pa."panelinhaId" = p.id AND pa."atletaId" = $1\n' +
    '              ) as "ehMembro"\n' +
    '       FROM "Panelinha" p\n' +
    '       WHERE p.id = $2',
  duration: 145,
  rows: 1
}
Executed query {
  text: '\n' +
    '      SELECT \n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Buscar todos os membros\n' +
    '        (\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl",\n` +
    "              'telefone', a.fone,\n" +
    `              'dataNascimento', a."dataNascimento",\n` +
    "              'genero', a.genero,\n" +
    "              'categoria', a.categoria\n" +
    '            )\n' +
    '            ORDER BY a.nome\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa\n' +
    '          INNER JOIN "Atleta" a ON pa."atletaId" = a.id\n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ) as "membros"\n' +
    '      FROM "Panelinha" p\n' +
    '      WHERE p.id = $2\n' +
    '    ',
  duration: 146,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha/a7f0af8d-4c1c-48ce-9273-add18841b27a 200 in 2.3s (compile: 974ms, proxy.ts: 4ms, render: 1321ms)
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 719,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT p.id,\n' +
    '           EXISTS(\n' +
    '             SELECT 1 FROM "PanelinhaAtleta" pa \n' +
    '             WHERE pa."panelinhaId" = p.id AND pa."atletaId" = $1\n' +
    '           ) as "ehMembro"\n' +
    '         FROM "Panelinha" p\n' +
    '         WHERE p.id = $2',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '        p.id,\n' +
    '        p.data,\n' +
    '        p.local,\n' +
    '        p."gamesTime1",\n' +
    '        p."gamesTime2",\n' +
    '        p."tiebreakTime1",\n' +
    '        p."tiebreakTime2",\n' +
    '        p."pointId",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        a1.id as "atleta1Id",\n' +
    '        a1.nome as "atleta1Nome",\n' +
    '        a1."fotoUrl" as "atleta1FotoUrl",\n' +
    '        a2.id as "atleta2Id",\n' +
    '        a2.nome as "atleta2Nome",\n' +
    '        a2."fotoUrl" as "atleta2FotoUrl",\n' +
    '        a3.id as "atleta3Id",\n' +
    '        a3.nome as "atleta3Nome",\n' +
    '        a3."fotoUrl" as "atleta3FotoUrl",\n' +
    '        a4.id as "atleta4Id",\n' +
    '        a4.nome as "atleta4Nome",\n' +
    '        a4."fotoUrl" as "atleta4FotoUrl"\n' +
    '      FROM "Partida" p\n' +
    '      INNER JOIN "PartidaPanelinha" pp ON p.id = pp."partidaId"\n' +
    '      LEFT JOIN "Atleta" a1 ON p."atleta1Id" = a1.id\n' +
    '      LEFT JOIN "Atleta" a2 ON p."atleta2Id" = a2.id\n' +
    '      LEFT JOIN "Atleta" a3 ON p."atleta3Id" = a3.id\n' +
    '      LEFT JOIN "Atleta" a4 ON p."atleta4Id" = a4.id\n' +
    '      WHERE pp."panelinhaId" = $1\n' +
    '      ORDER BY p.data DESC, p."createdAt" DESC',
  duration: 149,
  rows: 9
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha/a7f0af8d-4c1c-48ce-9273-add18841b27a/jogos 200 in 2.4s (compile: 973ms, proxy.ts: 4ms, render: 1465ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 1030,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 580,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p.descricao, p."esporte", p."atletaIdCriador", p."createdAt", p."updatedAt",\n' +
    '              (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '              EXISTS (\n' +
    '                SELECT 1 FROM "PanelinhaAtleta" pa \n' +
    '                WHERE pa."panelinhaId" = p.id AND pa."atletaId" = $1\n' +
    '              ) as "ehMembro"\n' +
    '       FROM "Panelinha" p\n' +
    '       WHERE p.id = $2',
  duration: 144,
  rows: 1
}
Executed query {
  text: '\n' +
    '      SELECT \n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Buscar todos os membros\n' +
    '        (\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl",\n` +
    "              'telefone', a.fone,\n" +
    `              'dataNascimento', a."dataNascimento",\n` +
    "              'genero', a.genero,\n" +
    "              'categoria', a.categoria\n" +
    '            )\n' +
    '            ORDER BY a.nome\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa\n' +
    '          INNER JOIN "Atleta" a ON pa."atletaId" = a.id\n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ) as "membros"\n' +
    '      FROM "Panelinha" p\n' +
    '      WHERE p.id = $2\n' +
    '    ',
  duration: 147,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha/a7f0af8d-4c1c-48ce-9273-add18841b27a 200 in 2.2s (compile: 14ms, proxy.ts: 4ms, render: 2.2s)
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
[PANELINHA] User ID: 488277ed-9a4d-4acc-b117-83272c80647a Role: USER
[PANELINHA] User ID: 488277ed-9a4d-4acc-b117-83272c80647a Role: USER
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 1111,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 1249,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 289,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 288,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 716,
  rows: 3
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 859,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 430,
  rows: 1
}
[PANELINHA] Atleta encontrado: { id: '4f609e18-ba26-4a31-9fa4-b2895a2201dd', nome: 'andre ' }
[PANELINHA] Executando query SQL com atletaId: 4f609e18-ba26-4a31-9fa4-b2895a2201dd
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 288,
  rows: 1
}
[PANELINHA] Atleta encontrado: { id: '4f609e18-ba26-4a31-9fa4-b2895a2201dd', nome: 'andre ' }
[PANELINHA] Executando query SQL com atletaId: 4f609e18-ba26-4a31-9fa4-b2895a2201dd
Executed query {
  text: '\n' +
    '      SELECT DISTINCT ON (p.id)\n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Contar membros\n' +
    '        COALESCE((\n' +
    '          SELECT COUNT(*) \n' +
    '          FROM "PanelinhaAtleta" pa \n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ), 0) as "totalMembros",\n' +
    '        -- Buscar membros com fotos (usar COALESCE para retornar array vazio se null)\n' +
    '        COALESCE((\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl"\n` +
    '            )\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa2\n' +
    '          INNER JOIN "Atleta" a ON pa2."atletaId" = a.id\n' +
    '          WHERE pa2."panelinhaId" = p.id\n' +
    '          LIMIT 4\n' +
    `        )::text, '[]')::json as "membros"\n` +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p."atletaIdCriador" = $1\n' +
    '         OR EXISTS (\n' +
    '           SELECT 1 \n' +
    '           FROM "PanelinhaAtleta" pa \n' +
    '           WHERE pa."panelinhaId" = p.id \n' +
    '           AND pa."atletaId" = $1\n' +
    '         )\n' +
    '      ORDER BY p.id, p."updatedAt" DESC NULLS LAST\n' +
    '    ',
  duration: 289,
  rows: 1
}
[PANELINHA] Query executada com sucesso. Resultados: 1
[PANELINHA] Processando panelinha: a7f0af8d-4c1c-48ce-9273-add18841b27a Turma das 6h
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha 200 in 2.9s (compile: 7ms, proxy.ts: 7ms, render: 2.8s)
Executed query {
  text: '\n' +
    '      SELECT DISTINCT ON (p.id)\n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Contar membros\n' +
    '        COALESCE((\n' +
    '          SELECT COUNT(*) \n' +
    '          FROM "PanelinhaAtleta" pa \n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ), 0) as "totalMembros",\n' +
    '        -- Buscar membros com fotos (usar COALESCE para retornar array vazio se null)\n' +
    '        COALESCE((\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl"\n` +
    '            )\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa2\n' +
    '          INNER JOIN "Atleta" a ON pa2."atletaId" = a.id\n' +
    '          WHERE pa2."panelinhaId" = p.id\n' +
    '          LIMIT 4\n' +
    `        )::text, '[]')::json as "membros"\n` +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p."atletaIdCriador" = $1\n' +
    '         OR EXISTS (\n' +
    '           SELECT 1 \n' +
    '           FROM "PanelinhaAtleta" pa \n' +
    '           WHERE pa."panelinhaId" = p.id \n' +
    '           AND pa."atletaId" = $1\n' +
    '         )\n' +
    '      ORDER BY p.id, p."updatedAt" DESC NULLS LAST\n' +
    '    ',
  duration: 290,
  rows: 1
}
[PANELINHA] Query executada com sucesso. Resultados: 1
[PANELINHA] Processando panelinha: a7f0af8d-4c1c-48ce-9273-add18841b27a Turma das 6h
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha 200 in 3.0s (compile: 12ms, proxy.ts: 7ms, render: 3.0s)
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
[LOGIN DEBUG] Buscando usuário com email: chico@bt.com
[LOGIN DEBUG] Email normalizado (lowercase/trim): chico@bt.com
Executed query {
  text: 'SELECT * FROM "User" WHERE email = $1',
  duration: 1023,
  rows: 1
}
[LOGIN DEBUG] Resultado da busca: {
  encontrado: true,
  id: '0104e4b2-f31c-4d3b-916d-1bb0b7cc5551',
  email: 'chico@bt.com',
  emailNormalizado: 'chico@bt.com',
  temAtletaId: false,
  atletaId: undefined,
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 POST /api/user/auth/login 401 in 1452ms (compile: 105ms, proxy.ts: 5ms, render: 1342ms)
[LOGIN DEBUG] Buscando usuário com email: chico@bt.com
[LOGIN DEBUG] Email normalizado (lowercase/trim): chico@bt.com
Executed query {
  text: 'SELECT * FROM "User" WHERE email = $1',
  duration: 145,
  rows: 1
}
[LOGIN DEBUG] Resultado da busca: {
  encontrado: true,
  id: '0104e4b2-f31c-4d3b-916d-1bb0b7cc5551',
  email: 'chico@bt.com',
  emailNormalizado: 'chico@bt.com',
  temAtletaId: false,
  atletaId: undefined,
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 POST /api/user/auth/login 200 in 448ms (compile: 3ms, proxy.ts: 5ms, render: 440ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 285,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 291,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 294,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 608ms (compile: 10ms, proxy.ts: 12ms, render: 586ms)
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 292,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 271,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 288,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/perfil/atleta 200 in 1044ms (compile: 6ms, proxy.ts: 14ms, render: 1024ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 290,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 575ms (compile: 3ms, proxy.ts: 4ms, render: 568ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 271,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '        id, nome, endereco, telefone, email, descricao, "logoUrl", \n' +
    '        latitude, longitude, ativo, assinante\n' +
    '      FROM "Point"\n' +
    '      WHERE assinante = true AND ativo = true\n' +
    '      ORDER BY nome ASC',
  duration: 841,
  rows: 2
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/arenas/listar 200 in 866ms (compile: 8ms, proxy.ts: 6ms, render: 852ms)
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 719,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 262,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 284,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 289,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 565ms (compile: 2ms, proxy.ts: 5ms, render: 558ms)
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 289,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/perfil/atleta 200 in 1584ms (compile: 4ms, proxy.ts: 7ms, render: 1573ms)
Executed query {
  text: 'SELECT \n' +
    '        id, nome, endereco, telefone, email, descricao, "logoUrl", \n' +
    '        latitude, longitude, ativo, assinante\n' +
    '      FROM "Point"\n' +
    '      WHERE assinante = true AND ativo = true\n' +
    '      ORDER BY nome ASC',
  duration: 285,
  rows: 2
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/arenas/listar 200 in 303ms (compile: 3ms, proxy.ts: 5ms, render: 295ms)
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 148,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 304ms (compile: 2ms, proxy.ts: 4ms, render: 298ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 142,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/atleta/me/atleta 200 in 596ms (compile: 5ms, proxy.ts: 6ms, render: 585ms)
[getUsuarioLogado] Buscando usuário com ID: 0104e4b2-f31c-4d3b-916d-1bb0b7cc5551
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT id, name, email, role, "pointIdGestor" FROM "User" WHERE id = $1',
  duration: 279,
  rows: 1
}
[getUsuarioLogado] Usuário encontrado: {
  id: '0104e4b2-f31c-4d3b-916d-1bb0b7cc5551',
  email: 'chico@bt.com',
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/getUsuarioLogado 200 in 312ms (compile: 9ms, proxy.ts: 12ms, render: 291ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '     a1.nome as "atleta1Nome", a1.id as "atleta1Id", \n' +
    '     a2.nome as "atleta2Nome", a2.id as "atleta2Id",\n' +
    '     a3.nome as "atleta3Nome", a3.id as "atleta3Id", \n' +
    '     a4.nome as "atleta4Nome", a4.id as "atleta4Id"\n' +
    '     FROM "Partida" p\n' +
    '     LEFT JOIN "Atleta" a1 ON p."atleta1Id" = a1.id\n' +
    '     LEFT JOIN "Atleta" a2 ON p."atleta2Id" = a2.id\n' +
    '     LEFT JOIN "Atleta" a3 ON p."atleta3Id" = a3.id\n' +
    '     LEFT JOIN "Atleta" a4 ON p."atleta4Id" = a4.id\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 705,
  rows: 66
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 719,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '          pp."partidaId",\n' +
    '          pp."panelinhaId",\n' +
    '          p.nome as "panelinhaNome",\n' +
    '          p."esporte" as "panelinhaEsporte"\n' +
    '        FROM "PartidaPanelinha" pp\n' +
    '        INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '        WHERE pp."partidaId" = ANY($1::text[])',
  duration: 365,
  rows: 14
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/partida/listarPartidas 200 in 1107ms (compile: 14ms, proxy.ts: 11ms, render: 1082ms)
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 363,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 143,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/atleta/me/atleta 200 in 1395ms (compile: 7ms, proxy.ts: 11ms, render: 1376ms)
[getUsuarioLogado] Buscando usuário com ID: 0104e4b2-f31c-4d3b-916d-1bb0b7cc5551
Executed query {
  text: 'SELECT id, name, email, role, "pointIdGestor" FROM "User" WHERE id = $1',
  duration: 145,
  rows: 1
}
[getUsuarioLogado] Usuário encontrado: {
  id: '0104e4b2-f31c-4d3b-916d-1bb0b7cc5551',
  email: 'chico@bt.com',
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/getUsuarioLogado 200 in 162ms (compile: 4ms, proxy.ts: 4ms, render: 154ms)
[PANELINHA] User ID: 0104e4b2-f31c-4d3b-916d-1bb0b7cc5551 Role: USER
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 144,
  rows: 1
}
[PANELINHA] Atleta encontrado: { id: 'e7cb163c-08cd-4596-99fa-d8aa48e6737b', nome: 'Chico ' }
[PANELINHA] Executando query SQL com atletaId: e7cb163c-08cd-4596-99fa-d8aa48e6737b
Executed query {
  text: '\n' +
    '      SELECT DISTINCT ON (p.id)\n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Contar membros\n' +
    '        COALESCE((\n' +
    '          SELECT COUNT(*) \n' +
    '          FROM "PanelinhaAtleta" pa \n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ), 0) as "totalMembros",\n' +
    '        -- Buscar membros com fotos (usar COALESCE para retornar array vazio se null)\n' +
    '        COALESCE((\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl"\n` +
    '            )\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa2\n' +
    '          INNER JOIN "Atleta" a ON pa2."atletaId" = a.id\n' +
    '          WHERE pa2."panelinhaId" = p.id\n' +
    '          LIMIT 4\n' +
    `        )::text, '[]')::json as "membros"\n` +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p."atletaIdCriador" = $1\n' +
    '         OR EXISTS (\n' +
    '           SELECT 1 \n' +
    '           FROM "PanelinhaAtleta" pa \n' +
    '           WHERE pa."panelinhaId" = p.id \n' +
    '           AND pa."atletaId" = $1\n' +
    '         )\n' +
    '      ORDER BY p.id, p."updatedAt" DESC NULLS LAST\n' +
    '    ',
  duration: 146,
  rows: 3
}
[PANELINHA] Query executada com sucesso. Resultados: 3
[PANELINHA] Processando panelinha: a7f0af8d-4c1c-48ce-9273-add18841b27a Turma das 6h
[PANELINHA] Processando panelinha: dcf11a74-166c-45a1-bcbd-dc5bb6f9de3a Joguinho das 18?30
[PANELINHA] Processando panelinha: ec46dddb-73ef-427f-8d8d-353695008444 Carlao
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha 200 in 743ms (compile: 3ms, proxy.ts: 4ms, render: 736ms)
[PANELINHA] User ID: 0104e4b2-f31c-4d3b-916d-1bb0b7cc5551 Role: USER
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 143,
  rows: 1
}
[PANELINHA] Atleta encontrado: { id: 'e7cb163c-08cd-4596-99fa-d8aa48e6737b', nome: 'Chico ' }
[PANELINHA] Executando query SQL com atletaId: e7cb163c-08cd-4596-99fa-d8aa48e6737b
Executed query {
  text: '\n' +
    '      SELECT DISTINCT ON (p.id)\n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Contar membros\n' +
    '        COALESCE((\n' +
    '          SELECT COUNT(*) \n' +
    '          FROM "PanelinhaAtleta" pa \n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ), 0) as "totalMembros",\n' +
    '        -- Buscar membros com fotos (usar COALESCE para retornar array vazio se null)\n' +
    '        COALESCE((\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl"\n` +
    '            )\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa2\n' +
    '          INNER JOIN "Atleta" a ON pa2."atletaId" = a.id\n' +
    '          WHERE pa2."panelinhaId" = p.id\n' +
    '          LIMIT 4\n' +
    `        )::text, '[]')::json as "membros"\n` +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p."atletaIdCriador" = $1\n' +
    '         OR EXISTS (\n' +
    '           SELECT 1 \n' +
    '           FROM "PanelinhaAtleta" pa \n' +
    '           WHERE pa."panelinhaId" = p.id \n' +
    '           AND pa."atletaId" = $1\n' +
    '         )\n' +
    '      ORDER BY p.id, p."updatedAt" DESC NULLS LAST\n' +
    '    ',
  duration: 144,
  rows: 3
}
[PANELINHA] Query executada com sucesso. Resultados: 3
[PANELINHA] Processando panelinha: a7f0af8d-4c1c-48ce-9273-add18841b27a Turma das 6h
[PANELINHA] Processando panelinha: dcf11a74-166c-45a1-bcbd-dc5bb6f9de3a Joguinho das 18?30
[PANELINHA] Processando panelinha: ec46dddb-73ef-427f-8d8d-353695008444 Carlao
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha 200 in 743ms (compile: 3ms, proxy.ts: 5ms, render: 735ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 149,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p.descricao, p."esporte", p."atletaIdCriador", p."createdAt", p."updatedAt",\n' +
    '              (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '              ac.nome as "criadorNome",\n' +
    '              EXISTS (\n' +
    '                SELECT 1 FROM "PanelinhaAtleta" pa \n' +
    '                WHERE pa."panelinhaId" = p.id AND pa."atletaId" = $1\n' +
    '              ) as "ehMembro"\n' +
    '       FROM "Panelinha" p\n' +
    '       LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '       WHERE p.id = $2',
  duration: 143,
  rows: 1
}
Executed query {
  text: '\n' +
    '      SELECT \n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Buscar todos os membros\n' +
    '        (\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl",\n` +
    "              'telefone', a.fone,\n" +
    `              'dataNascimento', a."dataNascimento",\n` +
    "              'genero', a.genero,\n" +
    "              'categoria', a.categoria\n" +
    '            )\n' +
    '            ORDER BY a.nome\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa\n' +
    '          INNER JOIN "Atleta" a ON pa."atletaId" = a.id\n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ) as "membros"\n' +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p.id = $2\n' +
    '    ',
  duration: 144,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha/a7f0af8d-4c1c-48ce-9273-add18841b27a 200 in 984ms (compile: 93ms, proxy.ts: 4ms, render: 888ms)
Executed query {
  text: 'SELECT \n' +
    '        id, nome, endereco, telefone, email, descricao, "logoUrl", \n' +
    '        latitude, longitude, ativo, assinante\n' +
    '      FROM "Point"\n' +
    '      WHERE assinante = true AND ativo = true\n' +
    '      ORDER BY nome ASC',
  duration: 573,
  rows: 2
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/arenas/listar 200 in 591ms (compile: 3ms, proxy.ts: 6ms, render: 583ms)
Executed query {
  text: 'SELECT \n' +
    '        id, nome, endereco, telefone, email, descricao, "logoUrl", \n' +
    '        latitude, longitude, ativo, assinante\n' +
    '      FROM "Point"\n' +
    '      WHERE assinante = true AND ativo = true\n' +
    '      ORDER BY nome ASC',
  duration: 288,
  rows: 2
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/arenas/listar 200 in 305ms (compile: 2ms, proxy.ts: 4ms, render: 299ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 148,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT p.id,\n' +
    '           EXISTS(\n' +
    '             SELECT 1 FROM "PanelinhaAtleta" pa \n' +
    '             WHERE pa."panelinhaId" = p.id AND pa."atletaId" = $1\n' +
    '           ) as "ehMembro"\n' +
    '         FROM "Panelinha" p\n' +
    '         WHERE p.id = $2',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT "atletaId" \n' +
    '         FROM "PanelinhaAtleta" \n' +
    '         WHERE "panelinhaId" = $1 AND "atletaId" = ANY($2::text[])',
  duration: 144,
  rows: 4
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE id = $1',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE id = $1',
  duration: 143,
  rows: 1
}
[criarPartida] Tentando criar partida com createdById: 0104e4b2-f31c-4d3b-916d-1bb0b7cc5551
Executed query {
  text: 'INSERT INTO "Partida" (id, data, local, "pointId", "atleta1Id", "atleta2Id", "atleta3Id", "atleta4Id", "gamesTime1", "gamesTime2", "tiebreakTime1", "tiebreakTime2", "createdById", "createdAt", "updatedAt") \n' +
    '       VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, NOW(), NOW())',
  duration: 155,
  rows: 1
}
[criarPartida] Partida criada com sucesso com createdById: 0104e4b2-f31c-4d3b-916d-1bb0b7cc5551
Executed query {
  text: 'SELECT p.*, \n' +
    '     a1.nome as "atleta1Nome", a1.id as "atleta1Id", \n' +
    '     a2.nome as "atleta2Nome", a2.id as "atleta2Id",\n' +
    '     a3.nome as "atleta3Nome", a3.id as "atleta3Id", \n' +
    '     a4.nome as "atleta4Nome", a4.id as "atleta4Id"\n' +
    '     FROM "Partida" p\n' +
    '     LEFT JOIN "Atleta" a1 ON p."atleta1Id" = a1.id\n' +
    '     LEFT JOIN "Atleta" a2 ON p."atleta2Id" = a2.id\n' +
    '     LEFT JOIN "Atleta" a3 ON p."atleta3Id" = a3.id\n' +
    '     LEFT JOIN "Atleta" a4 ON p."atleta4Id" = a4.id\n' +
    '     WHERE p.id = $1',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "PartidaPanelinha" (id, "partidaId", "panelinhaId", "createdAt")\n' +
    '       VALUES (gen_random_uuid()::text, $1, $2, NOW())\n' +
    '       ON CONFLICT ("partidaId", "panelinhaId") DO NOTHING',
  duration: 149,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 POST /api/user/panelinha/a7f0af8d-4c1c-48ce-9273-add18841b27a/jogos 201 in 1932ms (compile: 19ms, proxy.ts: 5ms, render: 1908ms)
[PANELINHA] User ID: 0104e4b2-f31c-4d3b-916d-1bb0b7cc5551 Role: USER
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 142,
  rows: 1
}
[PANELINHA] Atleta encontrado: { id: 'e7cb163c-08cd-4596-99fa-d8aa48e6737b', nome: 'Chico ' }
[PANELINHA] Executando query SQL com atletaId: e7cb163c-08cd-4596-99fa-d8aa48e6737b
Executed query {
  text: '\n' +
    '      SELECT DISTINCT ON (p.id)\n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Contar membros\n' +
    '        COALESCE((\n' +
    '          SELECT COUNT(*) \n' +
    '          FROM "PanelinhaAtleta" pa \n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ), 0) as "totalMembros",\n' +
    '        -- Buscar membros com fotos (usar COALESCE para retornar array vazio se null)\n' +
    '        COALESCE((\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl"\n` +
    '            )\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa2\n' +
    '          INNER JOIN "Atleta" a ON pa2."atletaId" = a.id\n' +
    '          WHERE pa2."panelinhaId" = p.id\n' +
    '          LIMIT 4\n' +
    `        )::text, '[]')::json as "membros"\n` +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p."atletaIdCriador" = $1\n' +
    '         OR EXISTS (\n' +
    '           SELECT 1 \n' +
    '           FROM "PanelinhaAtleta" pa \n' +
    '           WHERE pa."panelinhaId" = p.id \n' +
    '           AND pa."atletaId" = $1\n' +
    '         )\n' +
    '      ORDER BY p.id, p."updatedAt" DESC NULLS LAST\n' +
    '    ',
  duration: 146,
  rows: 3
}
[PANELINHA] Query executada com sucesso. Resultados: 3
[PANELINHA] Processando panelinha: a7f0af8d-4c1c-48ce-9273-add18841b27a Turma das 6h
[PANELINHA] Processando panelinha: dcf11a74-166c-45a1-bcbd-dc5bb6f9de3a Joguinho das 18?30
[PANELINHA] Processando panelinha: ec46dddb-73ef-427f-8d8d-353695008444 Carlao
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha 200 in 736ms (compile: 3ms, proxy.ts: 5ms, render: 727ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 145,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/atleta/me/atleta 200 in 593ms (compile: 3ms, proxy.ts: 5ms, render: 585ms)
[getUsuarioLogado] Buscando usuário com ID: 0104e4b2-f31c-4d3b-916d-1bb0b7cc5551
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT id, name, email, role, "pointIdGestor" FROM "User" WHERE id = $1',
  duration: 280,
  rows: 1
}
[getUsuarioLogado] Usuário encontrado: {
  id: '0104e4b2-f31c-4d3b-916d-1bb0b7cc5551',
  email: 'chico@bt.com',
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/getUsuarioLogado 200 in 311ms (compile: 11ms, proxy.ts: 11ms, render: 289ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '     a1.nome as "atleta1Nome", a1.id as "atleta1Id", \n' +
    '     a2.nome as "atleta2Nome", a2.id as "atleta2Id",\n' +
    '     a3.nome as "atleta3Nome", a3.id as "atleta3Id", \n' +
    '     a4.nome as "atleta4Nome", a4.id as "atleta4Id"\n' +
    '     FROM "Partida" p\n' +
    '     LEFT JOIN "Atleta" a1 ON p."atleta1Id" = a1.id\n' +
    '     LEFT JOIN "Atleta" a2 ON p."atleta2Id" = a2.id\n' +
    '     LEFT JOIN "Atleta" a3 ON p."atleta3Id" = a3.id\n' +
    '     LEFT JOIN "Atleta" a4 ON p."atleta4Id" = a4.id\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 705,
  rows: 67
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 719,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '          pp."partidaId",\n' +
    '          pp."panelinhaId",\n' +
    '          p.nome as "panelinhaNome",\n' +
    '          p."esporte" as "panelinhaEsporte"\n' +
    '        FROM "PartidaPanelinha" pp\n' +
    '        INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '        WHERE pp."partidaId" = ANY($1::text[])',
  duration: 290,
  rows: 15
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/partida/listarPartidas 200 in 1030ms (compile: 14ms, proxy.ts: 9ms, render: 1006ms)
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 288,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 145,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/atleta/me/atleta 200 in 1322ms (compile: 8ms, proxy.ts: 13ms, render: 1302ms)
[getUsuarioLogado] Buscando usuário com ID: 0104e4b2-f31c-4d3b-916d-1bb0b7cc5551
Executed query {
  text: 'SELECT id, name, email, role, "pointIdGestor" FROM "User" WHERE id = $1',
  duration: 142,
  rows: 1
}
[getUsuarioLogado] Usuário encontrado: {
  id: '0104e4b2-f31c-4d3b-916d-1bb0b7cc5551',
  email: 'chico@bt.com',
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/getUsuarioLogado 200 in 160ms (compile: 4ms, proxy.ts: 5ms, render: 151ms)
[LOGIN DEBUG] Buscando usuário com email: andre@bt.com
[LOGIN DEBUG] Email normalizado (lowercase/trim): andre@bt.com
Executed query {
  text: 'SELECT * FROM "User" WHERE email = $1',
  duration: 1021,
  rows: 1
}
[LOGIN DEBUG] Resultado da busca: {
  encontrado: true,
  id: '488277ed-9a4d-4acc-b117-83272c80647a',
  email: 'andre@bt.com',
  emailNormalizado: 'andre@bt.com',
  temAtletaId: false,
  atletaId: undefined,
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 POST /api/user/auth/login 200 in 1110ms (compile: 5ms, proxy.ts: 5ms, render: 1100ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 280,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 288,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 293,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 600ms (compile: 8ms, proxy.ts: 9ms, render: 582ms)
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 861,
  rows: 3
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 838,
  rows: 1
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 284,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/perfil/atleta 200 in 1600ms (compile: 5ms, proxy.ts: 9ms, render: 1587ms)
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 317,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 1172ms (compile: 2ms, proxy.ts: 4ms, render: 1166ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 291,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '        id, nome, endereco, telefone, email, descricao, "logoUrl", \n' +
    '        latitude, longitude, ativo, assinante\n' +
    '      FROM "Point"\n' +
    '      WHERE assinante = true AND ativo = true\n' +
    '      ORDER BY nome ASC',
  duration: 576,
  rows: 2
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/arenas/listar 200 in 603ms (compile: 11ms, proxy.ts: 9ms, render: 583ms)
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 431,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 265,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 293,
  rows: 3
}
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 299,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 577ms (compile: 3ms, proxy.ts: 4ms, render: 571ms)
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 291,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/perfil/atleta 200 in 1331ms (compile: 6ms, proxy.ts: 8ms, render: 1317ms)
Executed query {
  text: 'SELECT \n' +
    '        id, nome, endereco, telefone, email, descricao, "logoUrl", \n' +
    '        latitude, longitude, ativo, assinante\n' +
    '      FROM "Point"\n' +
    '      WHERE assinante = true AND ativo = true\n' +
    '      ORDER BY nome ASC',
  duration: 151,
  rows: 2
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/arenas/listar 200 in 164ms (compile: 2ms, proxy.ts: 4ms, render: 158ms)
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1 LIMIT 1',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '      a.id, a."quadraId", a."usuarioId", a."atletaId", a."nomeAvulso", a."telefoneAvulso",\n' +
    '      a."dataHora", a.duracao, a."valorHora", a."valorCalculado", a."valorNegociado",\n' +
    '      a.status, a.observacoes, a."createdAt", a."updatedAt", a."createdById", a."updatedById", a."recorrenciaId", a."recorrenciaConfig", a."ehAula", a."professorId",\n' +
    '      q.id as "quadra_id", q.nome as "quadra_nome", q."pointId" as "quadra_pointId",\n' +
    '      p.id as "point_id", p.nome as "point_nome", p."logoUrl" as "point_logoUrl",\n' +
    '      u.id as "usuario_id", u.name as "usuario_name", u.email as "usuario_email",\n' +
    '      at.id as "atleta_id", at.nome as "atleta_nome", at.fone as "atleta_fone", at."usuarioId" as "atleta_usuarioId",\n' +
    '      pr.id as "professor_id", pr."userId" as "professor_userId", pr.especialidade as "professor_especialidade",\n' +
    '      pr.bio as "professor_bio", pr."valorHora" as "professor_valorHora", pr.ativo as "professor_ativo",\n' +
    '      up.id as "professor_usuario_id", up.name as "professor_usuario_name", up.email as "professor_usuario_email",\n' +
    '      uc.id as "createdBy_user_id", uc.name as "createdBy_user_name", uc.email as "createdBy_user_email",\n' +
    '      uu.id as "updatedBy_user_id", uu.name as "updatedBy_user_name", uu.email as "updatedBy_user_email"\n' +
    '    FROM "Agendamento" a\n' +
    '    LEFT JOIN "Quadra" q ON a."quadraId" = q.id\n' +
    '    LEFT JOIN "Point" p ON q."pointId" = p.id\n' +
    '    LEFT JOIN "User" u ON a."usuarioId" = u.id\n' +
    '    LEFT JOIN "Atleta" at ON a."atletaId" = at.id\n' +
    '    LEFT JOIN "Professor" pr ON a."professorId" = pr.id\n' +
    '    LEFT JOIN "User" up ON pr."userId" = up.id\n' +
    '    LEFT JOIN "User" uc ON a."createdById" = uc.id\n' +
    '    LEFT JOIN "User" uu ON a."updatedById" = uu.id\n' +
    '    WHERE 1=1 AND a."dataHora" >= $1 AND a."dataHora" <= $2 AND a.status = $3 AND (\n' +
    '            a."usuarioId" = $4 OR \n' +
    '            a."atletaId" = $5 OR\n' +
    '            EXISTS (\n' +
    '              SELECT 1 FROM "AgendamentoAtleta" aa \n' +
    '              WHERE aa."agendamentoId" = a.id \n' +
    '              AND aa."atletaId" = $5\n' +
    '            )\n' +
    '          ) ORDER BY a."dataHora" ASC',
  duration: 146,
  rows: 0
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/agendamento?status=CONFIRMADO&apenasMeus=true 200 in 302ms (compile: 3ms, proxy.ts: 4ms, render: 296ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 567,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 144,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/atleta/me/atleta 200 in 1016ms (compile: 3ms, proxy.ts: 5ms, render: 1008ms)
[getUsuarioLogado] Buscando usuário com ID: 488277ed-9a4d-4acc-b117-83272c80647a
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT id, name, email, role, "pointIdGestor" FROM "User" WHERE id = $1',
  duration: 280,
  rows: 1
}
[getUsuarioLogado] Usuário encontrado: {
  id: '488277ed-9a4d-4acc-b117-83272c80647a',
  email: 'andre@bt.com',
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/getUsuarioLogado 200 in 309ms (compile: 11ms, proxy.ts: 9ms, render: 289ms)
Executed query {
  text: 'SELECT p.*, \n' +
    '     a1.nome as "atleta1Nome", a1.id as "atleta1Id", \n' +
    '     a2.nome as "atleta2Nome", a2.id as "atleta2Id",\n' +
    '     a3.nome as "atleta3Nome", a3.id as "atleta3Id", \n' +
    '     a4.nome as "atleta4Nome", a4.id as "atleta4Id"\n' +
    '     FROM "Partida" p\n' +
    '     LEFT JOIN "Atleta" a1 ON p."atleta1Id" = a1.id\n' +
    '     LEFT JOIN "Atleta" a2 ON p."atleta2Id" = a2.id\n' +
    '     LEFT JOIN "Atleta" a3 ON p."atleta3Id" = a3.id\n' +
    '     LEFT JOIN "Atleta" a4 ON p."atleta4Id" = a4.id\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 420,
  rows: 67
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 432,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '          pp."partidaId",\n' +
    '          pp."panelinhaId",\n' +
    '          p.nome as "panelinhaNome",\n' +
    '          p."esporte" as "panelinhaEsporte"\n' +
    '        FROM "PartidaPanelinha" pp\n' +
    '        INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '        WHERE pp."partidaId" = ANY($1::text[])',
  duration: 285,
  rows: 15
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/partida/listarPartidas 200 in 738ms (compile: 13ms, proxy.ts: 9ms, render: 716ms)
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 427,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 144,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/atleta/me/atleta 200 in 1177ms (compile: 9ms, proxy.ts: 10ms, render: 1158ms)
[getUsuarioLogado] Buscando usuário com ID: 488277ed-9a4d-4acc-b117-83272c80647a
Executed query {
  text: 'SELECT id, name, email, role, "pointIdGestor" FROM "User" WHERE id = $1',
  duration: 143,
  rows: 1
}
[getUsuarioLogado] Usuário encontrado: {
  id: '488277ed-9a4d-4acc-b117-83272c80647a',
  email: 'andre@bt.com',
  role: 'USER'
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/getUsuarioLogado 200 in 156ms (compile: 3ms, proxy.ts: 4ms, render: 150ms)
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
Executed query {
  text: 'SELECT p.*, \n' +
    '     a1.nome as "atleta1Nome", a1.id as "atleta1Id", \n' +
    '     a2.nome as "atleta2Nome", a2.id as "atleta2Id",\n' +
    '     a3.nome as "atleta3Nome", a3.id as "atleta3Id", \n' +
    '     a4.nome as "atleta4Nome", a4.id as "atleta4Id"\n' +
    '     FROM "Partida" p\n' +
    '     LEFT JOIN "Atleta" a1 ON p."atleta1Id" = a1.id\n' +
    '     LEFT JOIN "Atleta" a2 ON p."atleta2Id" = a2.id\n' +
    '     LEFT JOIN "Atleta" a3 ON p."atleta3Id" = a3.id\n' +
    '     LEFT JOIN "Atleta" a4 ON p."atleta4Id" = a4.id\n' +
    '     WHERE p.id = $1',
  duration: 1033,
  rows: 1
}
Executed query {
  text: 'SELECT id FROM "Atleta" WHERE "usuarioId" = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'UPDATE "Partida" \n' +
    '     SET "gamesTime1" = $1, "gamesTime2" = $2, "tiebreakTime1" = $3, "tiebreakTime2" = $4, "updatedAt" = NOW()\n' +
    '     WHERE id = $5',
  duration: 149,
  rows: 1
}
Executed query {
  text: 'SELECT p.*, \n' +
    '     a1.nome as "atleta1Nome", a1.id as "atleta1Id", \n' +
    '     a2.nome as "atleta2Nome", a2.id as "atleta2Id",\n' +
    '     a3.nome as "atleta3Nome", a3.id as "atleta3Id", \n' +
    '     a4.nome as "atleta4Nome", a4.id as "atleta4Id"\n' +
    '     FROM "Partida" p\n' +
    '     LEFT JOIN "Atleta" a1 ON p."atleta1Id" = a1.id\n' +
    '     LEFT JOIN "Atleta" a2 ON p."atleta2Id" = a2.id\n' +
    '     LEFT JOIN "Atleta" a3 ON p."atleta3Id" = a3.id\n' +
    '     LEFT JOIN "Atleta" a4 ON p."atleta4Id" = a4.id\n' +
    '     WHERE p.id = $1',
  duration: 152,
  rows: 1
}
Executed query {
  text: 'SELECT "panelinhaId" FROM "PartidaPanelinha" WHERE "partidaId" = $1',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'UPDATE "RankingPanelinha"\n' +
    '     SET \n' +
    '       "pontuacao" = 0,\n' +
    '       "vitorias" = 0,\n' +
    '       "derrotas" = 0,\n' +
    '       "derrotasTieBreak" = 0,\n' +
    '       "partidasJogadas" = 0,\n' +
    '       "saldoGames" = 0,\n' +
    '       "gamesFeitos" = 0,\n' +
    '       "gamesSofridos" = 0,\n' +
    '       "ultimaAtualizacao" = NOW()\n' +
    '     WHERE "panelinhaId" = $1',
  duration: 159,
  rows: 7
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    )\n' +
    '    SELECT \n' +
    '      gen_random_uuid()::text, \n' +
    '      $1, \n' +
    '      pa."atletaId", \n' +
    '      0, 0, 0, 0, 0, 0, 0, 0, \n' +
    '      NOW()\n' +
    '    FROM "PanelinhaAtleta" pa\n' +
    '    WHERE pa."panelinhaId" = $1\n' +
    '      AND NOT EXISTS (\n' +
    '        SELECT 1 FROM "RankingPanelinha" r \n' +
    '        WHERE r."panelinhaId" = $1 AND r."atletaId" = pa."atletaId"\n' +
    '      )\n' +
    '    ON CONFLICT DO NOTHING',
  duration: 145,
  rows: 0
}
Executed query {
  text: 'SELECT pp."partidaId"\n' +
    '     FROM "PartidaPanelinha" pp\n' +
    '     INNER JOIN "Partida" p ON pp."partidaId" = p.id\n' +
    '     WHERE pp."panelinhaId" = $1\n' +
    '       AND p."gamesTime1" IS NOT NULL\n' +
    '       AND p."gamesTime2" IS NOT NULL',
  duration: 291,
  rows: 9
}
Executed query {
  text: 'SELECT \n' +
    '      "atleta1Id", "atleta2Id", "atleta3Id", "atleta4Id",\n' +
    '      "gamesTime1", "gamesTime2", "tiebreakTime1", "tiebreakTime2"\n' +
    '    FROM "Partida"\n' +
    '    WHERE id = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 150,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'UPDATE "RankingPanelinha" r\n' +
    '     SET \n' +
    '       "posicao" = sub.posicao,\n' +
    '       "ultimaAtualizacao" = NOW()\n' +
    '     FROM (\n' +
    '       SELECT \n' +
    '         id,\n' +
    '         ROW_NUMBER() OVER (\n' +
    '           ORDER BY "pontuacao" DESC, "saldoGames" DESC, "gamesFeitos" DESC\n' +
    '         ) as posicao\n' +
    '       FROM "RankingPanelinha"\n' +
    '       WHERE "panelinhaId" = $1\n' +
    '     ) sub\n' +
    '     WHERE r.id = sub.id',
  duration: 152,
  rows: 7
}
Executed query {
  text: 'SELECT \n' +
    '      "atleta1Id", "atleta2Id", "atleta3Id", "atleta4Id",\n' +
    '      "gamesTime1", "gamesTime2", "tiebreakTime1", "tiebreakTime2"\n' +
    '    FROM "Partida"\n' +
    '    WHERE id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 148,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'UPDATE "RankingPanelinha" r\n' +
    '     SET \n' +
    '       "posicao" = sub.posicao,\n' +
    '       "ultimaAtualizacao" = NOW()\n' +
    '     FROM (\n' +
    '       SELECT \n' +
    '         id,\n' +
    '         ROW_NUMBER() OVER (\n' +
    '           ORDER BY "pontuacao" DESC, "saldoGames" DESC, "gamesFeitos" DESC\n' +
    '         ) as posicao\n' +
    '       FROM "RankingPanelinha"\n' +
    '       WHERE "panelinhaId" = $1\n' +
    '     ) sub\n' +
    '     WHERE r.id = sub.id',
  duration: 147,
  rows: 7
}
Executed query {
  text: 'SELECT \n' +
    '      "atleta1Id", "atleta2Id", "atleta3Id", "atleta4Id",\n' +
    '      "gamesTime1", "gamesTime2", "tiebreakTime1", "tiebreakTime2"\n' +
    '    FROM "Partida"\n' +
    '    WHERE id = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 148,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 149,
  rows: 1
}
Executed query {
  text: 'UPDATE "RankingPanelinha" r\n' +
    '     SET \n' +
    '       "posicao" = sub.posicao,\n' +
    '       "ultimaAtualizacao" = NOW()\n' +
    '     FROM (\n' +
    '       SELECT \n' +
    '         id,\n' +
    '         ROW_NUMBER() OVER (\n' +
    '           ORDER BY "pontuacao" DESC, "saldoGames" DESC, "gamesFeitos" DESC\n' +
    '         ) as posicao\n' +
    '       FROM "RankingPanelinha"\n' +
    '       WHERE "panelinhaId" = $1\n' +
    '     ) sub\n' +
    '     WHERE r.id = sub.id',
  duration: 147,
  rows: 7
}
Executed query {
  text: 'SELECT \n' +
    '      "atleta1Id", "atleta2Id", "atleta3Id", "atleta4Id",\n' +
    '      "gamesTime1", "gamesTime2", "tiebreakTime1", "tiebreakTime2"\n' +
    '    FROM "Partida"\n' +
    '    WHERE id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 148,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'UPDATE "RankingPanelinha" r\n' +
    '     SET \n' +
    '       "posicao" = sub.posicao,\n' +
    '       "ultimaAtualizacao" = NOW()\n' +
    '     FROM (\n' +
    '       SELECT \n' +
    '         id,\n' +
    '         ROW_NUMBER() OVER (\n' +
    '           ORDER BY "pontuacao" DESC, "saldoGames" DESC, "gamesFeitos" DESC\n' +
    '         ) as posicao\n' +
    '       FROM "RankingPanelinha"\n' +
    '       WHERE "panelinhaId" = $1\n' +
    '     ) sub\n' +
    '     WHERE r.id = sub.id',
  duration: 147,
  rows: 7
}
Executed query {
  text: 'SELECT \n' +
    '      "atleta1Id", "atleta2Id", "atleta3Id", "atleta4Id",\n' +
    '      "gamesTime1", "gamesTime2", "tiebreakTime1", "tiebreakTime2"\n' +
    '    FROM "Partida"\n' +
    '    WHERE id = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'UPDATE "RankingPanelinha" r\n' +
    '     SET \n' +
    '       "posicao" = sub.posicao,\n' +
    '       "ultimaAtualizacao" = NOW()\n' +
    '     FROM (\n' +
    '       SELECT \n' +
    '         id,\n' +
    '         ROW_NUMBER() OVER (\n' +
    '           ORDER BY "pontuacao" DESC, "saldoGames" DESC, "gamesFeitos" DESC\n' +
    '         ) as posicao\n' +
    '       FROM "RankingPanelinha"\n' +
    '       WHERE "panelinhaId" = $1\n' +
    '     ) sub\n' +
    '     WHERE r.id = sub.id',
  duration: 149,
  rows: 7
}
Executed query {
  text: 'SELECT \n' +
    '      "atleta1Id", "atleta2Id", "atleta3Id", "atleta4Id",\n' +
    '      "gamesTime1", "gamesTime2", "tiebreakTime1", "tiebreakTime2"\n' +
    '    FROM "Partida"\n' +
    '    WHERE id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'UPDATE "RankingPanelinha" r\n' +
    '     SET \n' +
    '       "posicao" = sub.posicao,\n' +
    '       "ultimaAtualizacao" = NOW()\n' +
    '     FROM (\n' +
    '       SELECT \n' +
    '         id,\n' +
    '         ROW_NUMBER() OVER (\n' +
    '           ORDER BY "pontuacao" DESC, "saldoGames" DESC, "gamesFeitos" DESC\n' +
    '         ) as posicao\n' +
    '       FROM "RankingPanelinha"\n' +
    '       WHERE "panelinhaId" = $1\n' +
    '     ) sub\n' +
    '     WHERE r.id = sub.id',
  duration: 145,
  rows: 7
}
Executed query {
  text: 'SELECT \n' +
    '      "atleta1Id", "atleta2Id", "atleta3Id", "atleta4Id",\n' +
    '      "gamesTime1", "gamesTime2", "tiebreakTime1", "tiebreakTime2"\n' +
    '    FROM "Partida"\n' +
    '    WHERE id = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 169,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'UPDATE "RankingPanelinha" r\n' +
    '     SET \n' +
    '       "posicao" = sub.posicao,\n' +
    '       "ultimaAtualizacao" = NOW()\n' +
    '     FROM (\n' +
    '       SELECT \n' +
    '         id,\n' +
    '         ROW_NUMBER() OVER (\n' +
    '           ORDER BY "pontuacao" DESC, "saldoGames" DESC, "gamesFeitos" DESC\n' +
    '         ) as posicao\n' +
    '       FROM "RankingPanelinha"\n' +
    '       WHERE "panelinhaId" = $1\n' +
    '     ) sub\n' +
    '     WHERE r.id = sub.id',
  duration: 146,
  rows: 7
}
Executed query {
  text: 'SELECT \n' +
    '      "atleta1Id", "atleta2Id", "atleta3Id", "atleta4Id",\n' +
    '      "gamesTime1", "gamesTime2", "tiebreakTime1", "tiebreakTime2"\n' +
    '    FROM "Partida"\n' +
    '    WHERE id = $1',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 148,
  rows: 1
}
Executed query {
  text: 'UPDATE "RankingPanelinha" r\n' +
    '     SET \n' +
    '       "posicao" = sub.posicao,\n' +
    '       "ultimaAtualizacao" = NOW()\n' +
    '     FROM (\n' +
    '       SELECT \n' +
    '         id,\n' +
    '         ROW_NUMBER() OVER (\n' +
    '           ORDER BY "pontuacao" DESC, "saldoGames" DESC, "gamesFeitos" DESC\n' +
    '         ) as posicao\n' +
    '       FROM "RankingPanelinha"\n' +
    '       WHERE "panelinhaId" = $1\n' +
    '     ) sub\n' +
    '     WHERE r.id = sub.id',
  duration: 148,
  rows: 7
}
Executed query {
  text: 'SELECT \n' +
    '      "atleta1Id", "atleta2Id", "atleta3Id", "atleta4Id",\n' +
    '      "gamesTime1", "gamesTime2", "tiebreakTime1", "tiebreakTime2"\n' +
    '    FROM "Partida"\n' +
    '    WHERE id = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 148,
  rows: 1
}
Executed query {
  text: 'INSERT INTO "RankingPanelinha" (\n' +
    '      id, "panelinhaId", "atletaId", "pontuacao", "vitorias", "derrotas", \n' +
    '      "derrotasTieBreak", "partidasJogadas", "saldoGames", "gamesFeitos", \n' +
    '      "gamesSofridos", "ultimaAtualizacao"\n' +
    '    ) VALUES (\n' +
    '      gen_random_uuid()::text, $1, $2, $3, $4, $5, $6, 1, $7, $8, $9, NOW()\n' +
    '    )\n' +
    '    ON CONFLICT ("panelinhaId", "atletaId")\n' +
    '    DO UPDATE SET\n' +
    '      "pontuacao" = "RankingPanelinha"."pontuacao" + EXCLUDED."pontuacao",\n' +
    '      "vitorias" = "RankingPanelinha"."vitorias" + EXCLUDED."vitorias",\n' +
    '      "derrotas" = "RankingPanelinha"."derrotas" + EXCLUDED."derrotas",\n' +
    '      "derrotasTieBreak" = "RankingPanelinha"."derrotasTieBreak" + EXCLUDED."derrotasTieBreak",\n' +
    '      "partidasJogadas" = "RankingPanelinha"."partidasJogadas" + 1,\n' +
    '      "gamesFeitos" = "RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos",\n' +
    '      "gamesSofridos" = "RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos",\n' +
    '      "saldoGames" = ("RankingPanelinha"."gamesFeitos" + EXCLUDED."gamesFeitos") - ("RankingPanelinha"."gamesSofridos" + EXCLUDED."gamesSofridos"),\n' +
    '      "ultimaAtualizacao" = NOW()',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'UPDATE "RankingPanelinha" r\n' +
    '     SET \n' +
    '       "posicao" = sub.posicao,\n' +
    '       "ultimaAtualizacao" = NOW()\n' +
    '     FROM (\n' +
    '       SELECT \n' +
    '         id,\n' +
    '         ROW_NUMBER() OVER (\n' +
    '           ORDER BY "pontuacao" DESC, "saldoGames" DESC, "gamesFeitos" DESC\n' +
    '         ) as posicao\n' +
    '       FROM "RankingPanelinha"\n' +
    '       WHERE "panelinhaId" = $1\n' +
    '     ) sub\n' +
    '     WHERE r.id = sub.id',
  duration: 145,
  rows: 7
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 PUT /api/partida/4314b69d-36ce-4149-a29e-a4ec624d1a5e 200 in 11.2s (compile: 952ms, proxy.ts: 4ms, render: 10.2s)
Executed query {
  text: 'SELECT p.*, \n' +
    '     a1.nome as "atleta1Nome", a1.id as "atleta1Id", \n' +
    '     a2.nome as "atleta2Nome", a2.id as "atleta2Id",\n' +
    '     a3.nome as "atleta3Nome", a3.id as "atleta3Id", \n' +
    '     a4.nome as "atleta4Nome", a4.id as "atleta4Id"\n' +
    '     FROM "Partida" p\n' +
    '     LEFT JOIN "Atleta" a1 ON p."atleta1Id" = a1.id\n' +
    '     LEFT JOIN "Atleta" a2 ON p."atleta2Id" = a2.id\n' +
    '     LEFT JOIN "Atleta" a3 ON p."atleta3Id" = a3.id\n' +
    '     LEFT JOIN "Atleta" a4 ON p."atleta4Id" = a4.id\n' +
    '     ORDER BY p."createdAt" DESC',
  duration: 292,
  rows: 67
}
Executed query {
  text: 'SELECT \n' +
    '          pp."partidaId",\n' +
    '          pp."panelinhaId",\n' +
    '          p.nome as "panelinhaNome",\n' +
    '          p."esporte" as "panelinhaEsporte"\n' +
    '        FROM "PartidaPanelinha" pp\n' +
    '        INNER JOIN "Panelinha" p ON pp."panelinhaId" = p.id\n' +
    '        WHERE pp."partidaId" = ANY($1::text[])',
  duration: 145,
  rows: 15
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/partida/listarPartidas 200 in 457ms (compile: 3ms, proxy.ts: 5ms, render: 449ms)
[PANELINHA] User ID: 488277ed-9a4d-4acc-b117-83272c80647a Role: USER
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 1023,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 578,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 144,
  rows: 1
}
[PANELINHA] Atleta encontrado: { id: '4f609e18-ba26-4a31-9fa4-b2895a2201dd', nome: 'andre ' }
[PANELINHA] Executando query SQL com atletaId: 4f609e18-ba26-4a31-9fa4-b2895a2201dd
Executed query {
  text: '\n' +
    '      SELECT DISTINCT ON (p.id)\n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Contar membros\n' +
    '        COALESCE((\n' +
    '          SELECT COUNT(*) \n' +
    '          FROM "PanelinhaAtleta" pa \n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ), 0) as "totalMembros",\n' +
    '        -- Buscar membros com fotos (usar COALESCE para retornar array vazio se null)\n' +
    '        COALESCE((\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl"\n` +
    '            )\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa2\n' +
    '          INNER JOIN "Atleta" a ON pa2."atletaId" = a.id\n' +
    '          WHERE pa2."panelinhaId" = p.id\n' +
    '          LIMIT 4\n' +
    `        )::text, '[]')::json as "membros"\n` +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p."atletaIdCriador" = $1\n' +
    '         OR EXISTS (\n' +
    '           SELECT 1 \n' +
    '           FROM "PanelinhaAtleta" pa \n' +
    '           WHERE pa."panelinhaId" = p.id \n' +
    '           AND pa."atletaId" = $1\n' +
    '         )\n' +
    '      ORDER BY p.id, p."updatedAt" DESC NULLS LAST\n' +
    '    ',
  duration: 147,
  rows: 1
}
[PANELINHA] Query executada com sucesso. Resultados: 1
[PANELINHA] Processando panelinha: a7f0af8d-4c1c-48ce-9273-add18841b27a Turma das 6h
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha 200 in 2.1s (compile: 3ms, proxy.ts: 6ms, render: 2.1s)
[PANELINHA] User ID: 488277ed-9a4d-4acc-b117-83272c80647a Role: USER
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 214,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 289,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 144,
  rows: 1
}
[PANELINHA] Atleta encontrado: { id: '4f609e18-ba26-4a31-9fa4-b2895a2201dd', nome: 'andre ' }
[PANELINHA] Executando query SQL com atletaId: 4f609e18-ba26-4a31-9fa4-b2895a2201dd
Executed query {
  text: '\n' +
    '      SELECT DISTINCT ON (p.id)\n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Contar membros\n' +
    '        COALESCE((\n' +
    '          SELECT COUNT(*) \n' +
    '          FROM "PanelinhaAtleta" pa \n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ), 0) as "totalMembros",\n' +
    '        -- Buscar membros com fotos (usar COALESCE para retornar array vazio se null)\n' +
    '        COALESCE((\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl"\n` +
    '            )\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa2\n' +
    '          INNER JOIN "Atleta" a ON pa2."atletaId" = a.id\n' +
    '          WHERE pa2."panelinhaId" = p.id\n' +
    '          LIMIT 4\n' +
    `        )::text, '[]')::json as "membros"\n` +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p."atletaIdCriador" = $1\n' +
    '         OR EXISTS (\n' +
    '           SELECT 1 \n' +
    '           FROM "PanelinhaAtleta" pa \n' +
    '           WHERE pa."panelinhaId" = p.id \n' +
    '           AND pa."atletaId" = $1\n' +
    '         )\n' +
    '      ORDER BY p.id, p."updatedAt" DESC NULLS LAST\n' +
    '    ',
  duration: 146,
  rows: 1
}
[PANELINHA] Query executada com sucesso. Resultados: 1
[PANELINHA] Processando panelinha: a7f0af8d-4c1c-48ce-9273-add18841b27a Turma das 6h
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha 200 in 960ms (compile: 3ms, proxy.ts: 6ms, render: 950ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 147,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 294,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p.descricao, p."esporte", p."atletaIdCriador", p."createdAt", p."updatedAt",\n' +
    '              (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '              ac.nome as "criadorNome",\n' +
    '              EXISTS (\n' +
    '                SELECT 1 FROM "PanelinhaAtleta" pa \n' +
    '                WHERE pa."panelinhaId" = p.id AND pa."atletaId" = $1\n' +
    '              ) as "ehMembro"\n' +
    '       FROM "Panelinha" p\n' +
    '       LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '       WHERE p.id = $2',
  duration: 144,
  rows: 1
}
Executed query {
  text: '\n' +
    '      SELECT \n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Buscar todos os membros\n' +
    '        (\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl",\n` +
    "              'telefone', a.fone,\n" +
    `              'dataNascimento', a."dataNascimento",\n` +
    "              'genero', a.genero,\n" +
    "              'categoria', a.categoria\n" +
    '            )\n' +
    '            ORDER BY a.nome\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa\n' +
    '          INNER JOIN "Atleta" a ON pa."atletaId" = a.id\n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ) as "membros"\n' +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p.id = $2\n' +
    '    ',
  duration: 145,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha/a7f0af8d-4c1c-48ce-9273-add18841b27a 200 in 1045ms (compile: 10ms, proxy.ts: 4ms, render: 1031ms)
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 741,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 146,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p."atletaIdCriador",\n' +
    '           EXISTS(\n' +
    '             SELECT 1 FROM "PanelinhaAtleta" pa \n' +
    '             WHERE pa."panelinhaId" = p.id AND pa."atletaId" = $1\n' +
    '           ) as "ehMembro"\n' +
    '         FROM "Panelinha" p\n' +
    '         WHERE p.id = $2',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '      r.id,\n' +
    '      r."panelinhaId",\n' +
    '      r."atletaId",\n' +
    '      r."pontuacao",\n' +
    '      r."vitorias",\n' +
    '      r."derrotas",\n' +
    '      r."derrotasTieBreak",\n' +
    '      r."partidasJogadas",\n' +
    '      r."saldoGames",\n' +
    '      r."gamesFeitos",\n' +
    '      r."gamesSofridos",\n' +
    '      r."posicao",\n' +
    '      r."ultimaAtualizacao",\n' +
    '      a.nome as "atletaNome",\n' +
    '      a."fotoUrl" as "atletaFotoUrl"\n' +
    '    FROM "RankingPanelinha" r\n' +
    '    INNER JOIN "Atleta" a ON r."atletaId" = a.id\n' +
    '    WHERE r."panelinhaId" = $1\n' +
    '    ORDER BY r."posicao" ASC NULLS LAST, r."pontuacao" DESC, r."saldoGames" DESC',
  duration: 145,
  rows: 7
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha/a7f0af8d-4c1c-48ce-9273-add18841b27a/ranking 200 in 2.5s (compile: 988ms, proxy.ts: 4ms, render: 1481ms)
[PANELINHA] User ID: 488277ed-9a4d-4acc-b117-83272c80647a Role: USER
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 1034,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 148,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 573,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 144,
  rows: 1
}
[PANELINHA] Atleta encontrado: { id: '4f609e18-ba26-4a31-9fa4-b2895a2201dd', nome: 'andre ' }
[PANELINHA] Executando query SQL com atletaId: 4f609e18-ba26-4a31-9fa4-b2895a2201dd
Executed query {
  text: '\n' +
    '      SELECT DISTINCT ON (p.id)\n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Contar membros\n' +
    '        COALESCE((\n' +
    '          SELECT COUNT(*) \n' +
    '          FROM "PanelinhaAtleta" pa \n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ), 0) as "totalMembros",\n' +
    '        -- Buscar membros com fotos (usar COALESCE para retornar array vazio se null)\n' +
    '        COALESCE((\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl"\n` +
    '            )\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa2\n' +
    '          INNER JOIN "Atleta" a ON pa2."atletaId" = a.id\n' +
    '          WHERE pa2."panelinhaId" = p.id\n' +
    '          LIMIT 4\n' +
    `        )::text, '[]')::json as "membros"\n` +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p."atletaIdCriador" = $1\n' +
    '         OR EXISTS (\n' +
    '           SELECT 1 \n' +
    '           FROM "PanelinhaAtleta" pa \n' +
    '           WHERE pa."panelinhaId" = p.id \n' +
    '           AND pa."atletaId" = $1\n' +
    '         )\n' +
    '      ORDER BY p.id, p."updatedAt" DESC NULLS LAST\n' +
    '    ',
  duration: 146,
  rows: 1
}
[PANELINHA] Query executada com sucesso. Resultados: 1
[PANELINHA] Processando panelinha: a7f0af8d-4c1c-48ce-9273-add18841b27a Turma das 6h
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha 200 in 2.1s (compile: 4ms, proxy.ts: 8ms, render: 2.1s)
[PANELINHA] User ID: 488277ed-9a4d-4acc-b117-83272c80647a Role: USER
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 289,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 144,
  rows: 1
}
[PANELINHA] Atleta encontrado: { id: '4f609e18-ba26-4a31-9fa4-b2895a2201dd', nome: 'andre ' }
[PANELINHA] Executando query SQL com atletaId: 4f609e18-ba26-4a31-9fa4-b2895a2201dd
Executed query {
  text: '\n' +
    '      SELECT DISTINCT ON (p.id)\n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Contar membros\n' +
    '        COALESCE((\n' +
    '          SELECT COUNT(*) \n' +
    '          FROM "PanelinhaAtleta" pa \n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ), 0) as "totalMembros",\n' +
    '        -- Buscar membros com fotos (usar COALESCE para retornar array vazio se null)\n' +
    '        COALESCE((\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl"\n` +
    '            )\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa2\n' +
    '          INNER JOIN "Atleta" a ON pa2."atletaId" = a.id\n' +
    '          WHERE pa2."panelinhaId" = p.id\n' +
    '          LIMIT 4\n' +
    `        )::text, '[]')::json as "membros"\n` +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p."atletaIdCriador" = $1\n' +
    '         OR EXISTS (\n' +
    '           SELECT 1 \n' +
    '           FROM "PanelinhaAtleta" pa \n' +
    '           WHERE pa."panelinhaId" = p.id \n' +
    '           AND pa."atletaId" = $1\n' +
    '         )\n' +
    '      ORDER BY p.id, p."updatedAt" DESC NULLS LAST\n' +
    '    ',
  duration: 145,
  rows: 1
}
[PANELINHA] Query executada com sucesso. Resultados: 1
[PANELINHA] Processando panelinha: a7f0af8d-4c1c-48ce-9273-add18841b27a Turma das 6h
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha 200 in 891ms (compile: 4ms, proxy.ts: 7ms, render: 880ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 714,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 144,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p.descricao, p."esporte", p."atletaIdCriador", p."createdAt", p."updatedAt",\n' +
    '              (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '              ac.nome as "criadorNome",\n' +
    '              EXISTS (\n' +
    '                SELECT 1 FROM "PanelinhaAtleta" pa \n' +
    '                WHERE pa."panelinhaId" = p.id AND pa."atletaId" = $1\n' +
    '              ) as "ehMembro"\n' +
    '       FROM "Panelinha" p\n' +
    '       LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '       WHERE p.id = $2',
  duration: 144,
  rows: 1
}
Executed query {
  text: '\n' +
    '      SELECT \n' +
    '        p.id,\n' +
    '        p.nome,\n' +
    '        p.descricao,\n' +
    '        p."esporte",\n' +
    '        p."atletaIdCriador",\n' +
    '        p."createdAt",\n' +
    '        p."updatedAt",\n' +
    '        -- Nome do criador\n' +
    '        ac.nome as "criadorNome",\n' +
    '        -- Verificar se o atleta é o criador\n' +
    '        (p."atletaIdCriador" = $1) as "ehCriador",\n' +
    '        -- Buscar todos os membros\n' +
    '        (\n' +
    '          SELECT json_agg(\n' +
    '            json_build_object(\n' +
    "              'id', a.id,\n" +
    "              'nome', a.nome,\n" +
    `              'fotoUrl', a."fotoUrl",\n` +
    "              'telefone', a.fone,\n" +
    `              'dataNascimento', a."dataNascimento",\n` +
    "              'genero', a.genero,\n" +
    "              'categoria', a.categoria\n" +
    '            )\n' +
    '            ORDER BY a.nome\n' +
    '          )\n' +
    '          FROM "PanelinhaAtleta" pa\n' +
    '          INNER JOIN "Atleta" a ON pa."atletaId" = a.id\n' +
    '          WHERE pa."panelinhaId" = p.id\n' +
    '        ) as "membros"\n' +
    '      FROM "Panelinha" p\n' +
    '      LEFT JOIN "Atleta" ac ON p."atletaIdCriador" = ac.id\n' +
    '      WHERE p.id = $2\n' +
    '    ',
  duration: 146,
  rows: 1
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha/a7f0af8d-4c1c-48ce-9273-add18841b27a 200 in 1465ms (compile: 12ms, proxy.ts: 4ms, render: 1450ms)
Executed query {
  text: 'SELECT a.*, u.name as "usuarioName", u.role as "usuarioRole" \n' +
    '      FROM "Atleta" a \n' +
    '      LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '      WHERE a."usuarioId" = $1',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT a.*, \n' +
    '            u.id as "usuario_id", \n' +
    '            u.name as "usuario_name", \n' +
    '            u.email as "usuario_email", \n' +
    '            u.role as "usuario_role" \n' +
    '     FROM "Atleta" a \n' +
    '     LEFT JOIN "User" u ON a."usuarioId" = u.id \n' +
    '     WHERE a.id = $1',
  duration: 143,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p.nome, p."logoUrl"\n' +
    '       FROM "AtletaPoint" ap\n' +
    '       JOIN "Point" p ON ap."pointId" = p.id\n' +
    '       WHERE ap."atletaId" = $1\n' +
    '       ORDER BY p.nome ASC',
  duration: 716,
  rows: 3
}
Executed query {
  text: 'SELECT id, nome, "logoUrl" FROM "Point" WHERE id = $1',
  duration: 142,
  rows: 1
}
Executed query {
  text: 'SELECT p.id, p."atletaIdCriador",\n' +
    '           EXISTS(\n' +
    '             SELECT 1 FROM "PanelinhaAtleta" pa \n' +
    '             WHERE pa."panelinhaId" = p.id AND pa."atletaId" = $1\n' +
    '           ) as "ehMembro"\n' +
    '         FROM "Panelinha" p\n' +
    '         WHERE p.id = $2',
  duration: 145,
  rows: 1
}
Executed query {
  text: 'SELECT \n' +
    '      r.id,\n' +
    '      r."panelinhaId",\n' +
    '      r."atletaId",\n' +
    '      r."pontuacao",\n' +
    '      r."vitorias",\n' +
    '      r."derrotas",\n' +
    '      r."derrotasTieBreak",\n' +
    '      r."partidasJogadas",\n' +
    '      r."saldoGames",\n' +
    '      r."gamesFeitos",\n' +
    '      r."gamesSofridos",\n' +
    '      r."posicao",\n' +
    '      r."ultimaAtualizacao",\n' +
    '      a.nome as "atletaNome",\n' +
    '      a."fotoUrl" as "atletaFotoUrl"\n' +
    '    FROM "RankingPanelinha" r\n' +
    '    INNER JOIN "Atleta" a ON r."atletaId" = a.id\n' +
    '    WHERE r."panelinhaId" = $1\n' +
    '    ORDER BY r."posicao" ASC NULLS LAST, r."pontuacao" DESC, r."saldoGames" DESC',
  duration: 143,
  rows: 7
}
[CORS DEBUG] Origin recebida: http://localhost:3001
[CORS DEBUG] Origens permitidas: [
  'http://localhost:3001',
  'https://appatleta.vercel.app',
  'http://localhost:3000',
  'http://localhost:5173'
]
[CORS DEBUG] NODE_ENV: development
[CORS DEBUG] É localhost? true
[CORS DEBUG] Origem permitida? true
[CORS DEBUG] Match exato? true
[CORS DEBUG] allowedOrigins.length: 4
[CORS DEBUG] envOrigins existe? true
[CORS DEBUG] ✅ Origem permitida - adicionando headers CORS
 GET /api/user/panelinha/a7f0af8d-4c1c-48ce-9273-add18841b27a/ranking 200 in 1461ms (compile: 12ms, proxy.ts: 4ms, render: 1444ms)
